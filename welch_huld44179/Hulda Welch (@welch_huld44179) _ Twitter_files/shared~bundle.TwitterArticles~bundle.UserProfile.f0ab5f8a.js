"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.TwitterArticles~bundle.UserProfile","icons/IconFolderArrowLeft-js","icons/IconMediaExpand-js"],{28215:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(2784),n=i(25686),o=i(73186),a=i(91964);const l="activeRoute",s=o.Z.create((e=>({activeRoot:{backgroundColor:e.colors.gray0},overlay:{...o.Z.absoluteFillObject,borderEndStyle:"solid",borderEndWidth:e.borderWidths.medium,borderEndColor:e.colors.primary,zIndex:1}}))),c=({children:e,...t})=>r.createElement(a.Z,t,(t=>r.createElement(n.Z,{style:t&&s.activeRoot,testID:l},"function"==typeof e?e(t):e,t?r.createElement(n.Z,{pointerEvents:"none",style:s.overlay}):null)))},28047:(e,t,i)=>{i.d(t,{ZP:()=>s});var r=i(2784),n=i(25686),o=i(36934),a=i(73186);const l=a.Z.create((e=>({titlePlaceholder:{opacity:.4},titleWrapper:{width:"100%"}}))),s=({extendedWidth:e=!1,numberOfLines:t,size:i="body",style:a,title:s,weight:c="bold"})=>r.createElement(n.Z,{style:[l.titleWrapper,!s&&l.titlePlaceholder]},r.createElement(o.ZP,{extendedWidth:e,numberOfLines:t,size:i,style:a,testID:"twitter-article-title",weight:c},s||"(Needs title)"))},65285:(e,t,i)=>{i.d(t,{f:()=>a});var r=i(2784),n=i(36934),o=i(73186);const a=e=>{const{isPublished:t}=e;return r.createElement(n.ZP,{size:"subtext3",style:[l.visibilityLabel,t?l.publishedLabel:l.draftLabel],weight:"bold"},t?"Published":"Draft")},l=o.Z.create((e=>({draftLabel:{backgroundColor:e.colors.purple50,color:e.colors.purple900},publishedLabel:{backgroundColor:e.colors.green50,color:e.colors.green900},visibilityLabel:{alignItems:"center",borderRadius:e.borderRadii.xSmall,flexDirection:"row",paddingHorizontal:`calc(${e.spaces.space4} + ${e.spaces.space2})`,paddingVertical:e.spaces.space4}})))},6451:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(2784),n=i(36934),o=i(3613),a=i(84740),l=i(65285),s=i(81371);const c=({updatedAt:e})=>{const t=(0,s.R)()().getTime(),i=Number(e),o=Math.floor((t-i)/1e3);return r.createElement(n.ZP,{color:"gray700",size:"subtext2"},"Last saved ",r.createElement(n.ZP,{weight:"bold"},o<=5?"just now":r.createElement(a.Z,{humanReadable:!0,timestamp:i})))},d=e=>{const{isPublished:t,publishedAtMs:i,updatedAtMs:s}=e,d=t?r.createElement(n.ZP,{size:"subtext2",weight:"bold"},r.createElement(a.Z,{humanReadable:!0,timestamp:Number(i)})):r.createElement(c,{updatedAt:s});return r.createElement(o.Z,null,r.createElement(l.f,{isPublished:t}),d)}},33663:(e,t,i)=>{i.d(t,{ZP:()=>d});var r=i(73228),n=i.n(r),o=i(63014),a=i(99628);const l=n().c66afdc3,s=n().hbe4feb5,c=n().e1618e49,d=({addToast:e,createLocalApiErrorHandler:t,follow:i,promotedContent:r,scribeAction:n,user:d})=>({text:l({screenName:d.screen_name}),onClick:()=>{i(d.id_str,{promotedContent:r}).then((()=>{n({element:"follow"}),d.protected?e({text:s({screenName:d.screen_name})}):e({text:c({screenName:d.screen_name})})}),t({...a.H,showToast:!0})),n({element:"follow_attempt"})},Icon:o.default})},43354:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(73228),n=i.n(r),o=i(46072),a=i(90112);const l=n().ja66a2b5,s=n().c2423b7b,c=({addToast:e,createLocalApiErrorHandler:t,promotedContent:i,scribeAction:r,unfollow:n,user:c})=>({text:l({screenName:c.screen_name}),onClick:()=>{n(c.id_str,{promotedContent:i}).then((t=>{e({text:s({screenName:c.screen_name})})}),t(a.X)),r({element:"unfollow"})},Icon:o.default})},26888:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(76648),n=i(73228),o=i.n(n),a=i(50941),l=i(89884);const s=o().a3dcd5b2,c=({addToast:e,scribeAction:t,twitterArticleId:i})=>({onClick:()=>{r.Z.setString((0,l.kc)(i)),e({text:"URL copied to the clipboard"}),t({element:"copy_link"})},Icon:a.default,text:s})},73218:(e,t,i)=>{i.d(t,{Z:()=>a});i(85940);var r=i(46874),n=i(89884);const o="Delete Note",a=({addToast:e,createLocalApiErrorHandler:t,deleteTwitterArticle:i,history:a,isPublished:l,location:s,onScribeEvent:c,twitterArticleId:d})=>({confirmation:{headline:l?"Are you sure?":"Delete Note?",label:l?o:"Yes, delete",text:l&&"This Note will be deleted and any existing links will result in an error."},Icon:r.default,isEmphasized:!0,onClick:()=>{i(d).then((()=>{e({text:"Your Note was deleted"}),null==c||c();s.pathname===(0,n.F5)(d)&&a.replace(n.xd)})).catch(t({showToast:!0}))},text:o})},11756:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(50941),n=i(89884);const o=({twitterArticleId:e})=>({Icon:r.default,link:(0,n.fv)(e),text:"View on Twitter"})},9561:(e,t,i)=>{i.d(t,{Z:()=>F});i(6886),i(85940),i(36728);var r=i(2784),n=i(44173),o=i(73228),a=i.n(o),l=i(8639),s=i(64726),c=i(10870),d=i(2098),u=i(1206),m=i(68767),p=i(8716),T=i(76687),h=i(45912),E=i(89884),A=i(31261),b=i(44836),v=i(33663),I=i(57751),_=i(43354),y=i(93644),w=i(26888),g=i(73218),f=i(11756),Z=i(23335),M=i(92160),L=i(70083),R=i(99629),C=i(7990),S=i(57659);const P=(e,t)=>t.twitterArticleId,x=(e,t)=>{const i=P(0,t);return C.ZP.select(e,i)},k=(e,t)=>{const i=P(0,t);return C.ZP.selectAuthor(e,i)},D=(e,t)=>{const i=P(0,t);return C.ZP.selectAuthorId(e,i)},N=(0,M.Z)().propsFromState((()=>({author:k,authorId:D,twitterArticle:x}))).propsFromActions((()=>({addToast:R.fz,block:S.ZP.block,createLocalApiErrorHandler:(0,Z.createLocalApiErrorHandlerWithContextFactory)("TWITTER_ARTICLE_ACTION_MENU"),deleteTwitterArticle:C.ZP.delete,follow:S.ZP.follow,mute:L.r,unblock:S.ZP.unblock,unfollow:S.ZP.unfollow,unmute:S.ZP.unmute}))),B=a().ce1d02b4,W=a().a4079efa;const F=(0,T.ZP)(N((function(e){var t;const[i,o]=r.useState(!1),{featureSwitches:a,viewerUserId:T}=r.useContext(A.rC),Z=a.isTrue("responsive_web_twitter_article_tweet_other_notes_enabled"),M=a.isTrue("responsive_web_twitter_article_tweet_own_notes_enabled"),{addToast:L,author:R,authorId:C,block:S,createLocalApiErrorHandler:P,deleteTwitterArticle:x,follow:k,history:D,location:N,mute:F,source:O,twitterArticle:H,twitterArticleId:U,unblock:V,unfollow:K,unmute:Y}=e,z=(0,p.Z)(),j=O===h.C0.TWITTER_ARTICLES_TAB,G=O===h.C0.TWITTER_ARTICLE_VIEW,$=T&&T===C,J=j?$?"me":"profile":G?"note":void 0,Q=({element:e})=>{z.scribe({page:J,section:j?"notes":void 0,component:"overflow_menu",element:e,action:"click"})};if(!H)return null;const q=(null==(t=H.metadata)?void 0:t.visibility)===h.fk.PUBLISHED,X=O===h.C0.TWITTER_ARTICLES_TAB||O===h.C0.TWITTER_ARTICLE_VIEW,ee=()=>{o((e=>!e))},te=()=>{Q({element:"share_via_tweet"}),D.push({pathname:"/compose/tweet",query:{text:(0,E.kc)(U)},state:{hideUnsentTweetsButton:!0,positionCursorAtBeginning:!0}})},ie=()=>{ee(),Q({element:"unpublish_button"})},re=()=>{const e=q?"delete_sheet_published":"delete_sheet_draft";z.scribe({component:e,element:"confirm_delete",action:"click"})},ne=()=>{const e=(0,g.Z)({addToast:L,createLocalApiErrorHandler:P,deleteTwitterArticle:x,history:D,isPublished:q,location:N,onScribeEvent:re,twitterArticleId:U});if(q){const t={onClick:te,Icon:l.default,text:B},i=(0,w.Z)({addToast:L,twitterArticleId:U,scribeAction:Q}),r={onClick:ie,Icon:s.default,text:"Unpublish, move Note to drafts"};let n=[];if((Z&&!$||M&&$)&&(n=[t,i]),X){const e={Icon:c.default,link:"https://help.twitter.com/using-twitter/notes",text:W,onClick:()=>Q({element:"learn_more"})};if($)return[...n,e,r].filter(Boolean);if(T&&R){const t={addToast:L,createLocalApiErrorHandler:P,scribeAction:u.Z},i=(0,b.Z)({...t,block:S,scribeAction:Q,unblock:V,user:R}),r=(0,I.Z)({...t,mute:F,scribeAction:Q,unmute:Y,user:R}),o=R.following?(0,_.Z)({...t,unfollow:K,user:R,scribeAction:Q}):(0,v.ZP)({...t,follow:k,user:R,scribeAction:Q});return[...n,e,o,i,r]}return[i,e]}return[(0,f.Z)({twitterArticleId:U}),...n,r,e]}return[{Icon:d.default,link:(0,E.VT)(U),onClick:()=>Q({element:"focus_button"}),text:"Open in focus time"},e]};return r.createElement(r.Fragment,null,r.createElement(n.Z,{onClick:()=>{z.scribe({page:J,section:j?"notes":void 0,component:"overflow_menu",element:void 0,action:"impression"})},renderActionMenu:e=>r.createElement(m.default,{actionItems:ne(),dividerIndices:[2],onClose:e})}),i?r.createElement(y.Z,{onClose:ee,onUnpublish:()=>{Q({element:"confirm_unpublish_button"});const e=(0,E.F5)(U);D.replace(e)},twitterArticleId:U,twitterArticleTitle:H.title}):null)})))},39926:(e,t,i)=>{i.d(t,{Z:()=>N});var r=i(2784),n=i(8352),o=i(831),a=i(1503),l=i(25686),s=i(35953),c=i(36934),d=i(44329),u=i(74062),m=i(84740),p=i(73186),T=i(95995),h=i(28215),E=i(28047),A=i(6451),b=i(31261),v=i(96211),I=i(45855),_=i(76275),y=i(8716),w=i(7990),g=i(45912),f=i(89884),Z=i(9561),M=i(92160);const L=(e,t)=>t.twitterArticleId,R=(e,t)=>{const i=L(0,t);return w.ZP.select(e,i)},C=(e,t)=>{const i=L(0,t);return w.ZP.selectAuthor(e,i)},S=(0,M.Z)().propsFromState((()=>({author:C,twitterArticle:R}))),P=p.Z.create((e=>({container:{borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingHorizontal:e.componentDimensions.gutterHorizontal,minHeight:e.spaces.space80},containerPaddingComposer:{paddingVertical:e.spaces.space12},containerPaddingNotesTab:{paddingBottom:e.spaces.space16,paddingTop:e.spaces.space12},coverImage:{borderRadius:e.borderRadii.small,overflow:"hidden"},marginTopComposer:{marginTop:e.spaces.space8},marginTopNotesTab:{marginTop:e.spaces.space12},titleNotesTab:{marginVertical:e.spaces.space8},rowAndSpaceBetween:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}))),x=S((e=>{var t;const{author:i,source:n,twitterArticle:o,twitterArticleId:p}=e,{featureSwitches:M}=r.useContext(b.rC),L=M.isTrue("responsive_web_twitter_article_cover_aspect_ratio_5_2"),R=n===g.C0.TWITTER_ARTICLES_TAB,C=(0,y.Z)(),S=r.useCallback((()=>{var t,i;const{is_user_follows_viewer:r=!1,is_viewer_follows_user:n=!1}=e.author?_.Z.getUserItem(e.author):{};return{profile_id:(null==(t=e.author)?void 0:t.id_str)||"",note_details:{author_id:(null==(i=e.author)?void 0:i.id_str)||"",note_id:p,is_note_author_follows_viewer:r,is_viewer_follows_note_author:n}}}),[e.author,p]);r.useEffect((()=>{C.scribe({section:"notes",component:"note",action:"impression",data:S()})}),[C,S]);const x=r.useCallback((()=>{C.scribe({section:"notes",component:"note",action:"click",data:S()})}),[C,S]);if(!o)return null;const{data:k,metadata:D,title:N}=o,B=(null==k||null==(t=k.plaintext)?void 0:t.trim())||(e=>{try{return(0,a.convertFromRaw)(JSON.parse(e)).getPlainText().trim()}catch(e){return""}})((null==k?void 0:k.contentStateJson)||""),W=(null==D?void 0:D.visibility)===g.fk.PUBLISHED,F=R?"title4":"body",O=R?5:2,H=R?"heavy":"bold",U=R?"text":"gray700",V=R?3:2,K=R?P.marginTopNotesTab:P.marginTopComposer,Y=i?r.createElement(T.Z,{affiliateBadgeInfo:i.highlightedLabel,isBlueVerified:i.is_blue_verified,isVerified:i.verified,name:i.name,profileImageUrl:i.profile_image_url_https,screenName:i.screen_name,style:K,verifiedType:i.verified_type}):null,z=(0,w.tY)(o),j=(0,v.S)(o.cover_image,L),G=z?r.createElement(l.Z,{style:[P.coverImage,K],testID:"twitter-article-cover-image"},r.createElement(s.Z,{accessibilityLabel:"",aspectMode:d.Z.exact(j),image:z})):null,$=W?r.createElement(c.ZP,{size:"subtext2"},r.createElement(m.Z,{timestamp:Number(null==D?void 0:D.publishedAtMs)})):null,J=r.createElement(A.Z,{isPublished:W,publishedAtMs:null==D?void 0:D.publishedAtMs,updatedAtMs:null==D?void 0:D.updatedAtMs}),Q=R?(0,f.fv)(p):(0,f.F5)(p);return r.createElement(h.Z,{exact:!1,path:Q},(e=>r.createElement(u.Z,{accessibilitySelected:e,link:Q},r.createElement(I.nO,{data:S()},r.createElement(l.Z,{onClick:x,style:[P.container,R?P.containerPaddingNotesTab:P.containerPaddingComposer]},r.createElement(l.Z,{style:P.rowAndSpaceBetween},R?$:J,r.createElement(Z.Z,{source:n,twitterArticleId:p})),r.createElement(l.Z,{style:[P.rowAndSpaceBetween,R?P.titleNotesTab:P.marginTopComposer]},r.createElement(E.ZP,{numberOfLines:O,size:F,title:N,weight:H})),B?r.createElement(c.ZP,{color:U,numberOfLines:V,size:"body",style:!R&&P.marginTopComposer},B):null,R?G:null,R?Y:null)))))}));var k=i(12261);const D=(e,t)=>k.ZP.selectSliceModule(t.userId,t.visibility),N=(0,M.Z)().propsFromState((()=>({sliceModule:D})))((e=>{const{emptyStateHeader:t,emptyStateMessage:i,sliceModule:a,source:l}=e;return r.createElement(o.Z,{module:a,noItemsRenderer:()=>r.createElement(n.Z,{header:t,message:i}),renderer:e=>e?r.createElement(x,{source:l,twitterArticleId:e}):null})}))},93644:(e,t,i)=>{i.d(t,{Z:()=>E});i(21515);var r=i(2784),n=i(25686),o=i(36934),a=i(84292),l=i(73186),s=i(45912),c=i(19282),d=i(23335),u=i(92160),m=i(99629),p=i(7990);const T=(0,u.Z)().propsFromActions((()=>({addToast:m.fz,createLocalApiErrorHandler:(0,d.createLocalApiErrorHandlerWithContextFactory)("TWITTER_ARTICLE_UNPUBLISH_SHEET"),updateTwitterArticleVisibility:p.ZP.updateVisibility}))),h=l.Z.create((e=>({text:{display:"inline",flexDirection:"row"}}))),E=T((e=>{const{addToast:t,createLocalApiErrorHandler:i,onClose:l,onUnpublish:d,twitterArticleId:u,twitterArticleTitle:m,updateTwitterArticleVisibility:p}=e,T=r.createElement(n.Z,{style:h.text},r.createElement(o.ZP,{weight:"bold"},m||"This Note"),r.createElement(o.ZP,null," will be unpublished, moved to your drafts, and won’t be publicly visible."));return r.createElement(a.Z,{confirmButtonLabel:c.Pm,headline:"Are you sure?",onCancel:l,onConfirm:()=>{p(u,{visibility:s.fk.DRAFT}).then((()=>{null==d||d(),t({text:"Your Note has been unpublished"})})).catch(i({})).finally(l)},text:T})}))},96211:(e,t,i)=>{i.d(t,{O:()=>T,S:()=>p});i(6886),i(36728);var r=i(1503),n=i(64692),o=i.n(n),a=i(8080),l=i(6555),s=i(73186),c=i(11469),d=i(417);const u={BlockQuote:"blockquote",HeaderOne:"header-one",HeaderTwo:"header-two",OrderedList:"ordered-list-item",Paragraph:"unstyled",UnorderedList:"unordered-list-item"},m={Bold:"BOLD",Italic:"ITALIC",Strikethrough:"STRIKETHROUGH"},p=(e,t)=>{var i;if(e&&"ApiImage"===(null==(i=e.media_info)?void 0:i.__typename)){if(t){const{original_img_height:t,original_img_width:i}=e.media_info,r={width:i,height:t};return a.Z.selectClosestAspectRatio(r,[s.Z.theme.aspectRatios.communityBanner,s.Z.theme.aspectRatios.twitterArticleBanner])}return s.Z.theme.aspectRatios.twitterArticleBanner}return t?s.Z.theme.aspectRatios.communityBanner:s.Z.theme.aspectRatios.twitterArticleBanner};function T(e){if(0===e.sections.length)return;const t=e.sections.reduce((({blocks:e,entityMap:t},i)=>{const{block:r,entityMap:n}=function(e,t){if(e.text_section_type){const{styles:i=[],text:r,text_entities:n=[],text_section_type:a}=e,{entityMap:s,entityRanges:d}=function(e,t,i){const r={entityRanges:[],entityMap:i};return t.reduce(((t,i)=>{const r=E(i.range_start),n=E(i.range_end);if(isNaN(r)||isNaN(n))return t;const{url:o,text:a,user_results:s}=i.entity;let c;if(s){const t=e.text.substring(r,n);c=l.Z.makeEntityLink("mention",t)}else if(a){const t=e.text.substring(r,n),[i]=t;c=function(){switch(i){case"$":return l.Z.makeEntityLink("cashtag",t);case"#":return l.Z.makeEntityLink("hashtag",t)}}()}else o&&(c=o);if(c){const e=Object.keys(t.entityMap).length;t.entityRanges.push({offset:r,length:n-r,key:e}),t.entityMap[String(e)]={type:"LINK",mutability:"MUTABLE",data:{url:c}}}return t}),r)}(e,n,t);return{block:{key:o()(),depth:0,entityRanges:d,inlineStyleRanges:(0,c.Z)(i,h),text:r,type:u[a]},entityMap:s}}if(e.nontext_section_type){const{nontext_entities:i,nontext_section_type:r}=e,n=function(e,t){if("Media"===t){return{type:"MEDIA",mutability:"IMMUTABLE",data:{mediaItems:(0,c.Z)(e,((e,t)=>{var i;const{media_results:r}=e||{},n=function(e){var t;switch(null==e||null==(t=e.media_info)?void 0:t.__typename){case"ApiGif":return"TweetGif";case"ApiImage":return"TweetImage";case"ApiVideo":return"TweetVideo";default:return}}(null==r?void 0:r.result),o=null==r||null==(i=r.result)?void 0:i.media_id;return n&&o?{mediaCategory:n,mediaId:o}:void 0}))}}}if("Tweet"===t){const{tweet_results:t}=(0,d.Z)(e)||{},{rest_id:i}=(null==t?void 0:t.result)||{};return i?{type:"TWEET",mutability:"IMMUTABLE",data:{tweetId:i}}:void 0}return}(i,r);if(!n)return;const a=Object.keys(t).length,l={...t,[a.toString()]:n};return{block:{key:o()(),depth:0,entityRanges:[{offset:0,length:1,key:a}],inlineStyleRanges:[],text:" ",type:"atomic"},entityMap:l}}return}(i,t)||{};return{blocks:r?[...e,r]:e,entityMap:n||t}}),{blocks:[],entityMap:{}});return(0,r.convertFromRaw)(t)}function h(e){const t=m[e.style],i=E(e.range_start),r=E(e.range_end);if(t&&!isNaN(i)&&!isNaN(r))return{style:t,offset:i,length:r-i}}const E=e=>parseInt(e,10)},7990:(e,t,i)=>{i.d(t,{ZP:()=>N,tY:()=>k});i(6886);var r=i(64815),n=i(53223),o=i(26853),a=i(23803),l=i(51670),s=i(29122),c=i(91191),d=i(67935),u=i(57659);const m=(0,s.ZP)({namespace:"twitterArticles"}),p=(0,s.tb)(m,{context:"FETCH_TWITTER_ARTICLE",endpoint:e=>e.TwitterArticles.fetchTwitterArticle,params:([e])=>({twitterArticleId:e})});var T=i(12261),h=i(45912);const E=(e,t,i)=>{const r=T.ZP.selectSliceModule(e,i);return r.selectFetchStatus(t)===a.ZP.LOADED?r:void 0},A=e=>t=>{var i;let r=null==t||null==(i=t.entities)?void 0:i.twitterArticles[e];if(r)return r.cover_image||(r={...r,cover_image:void 0}),[D.updateOne(e,r)]},b={create:(0,s.Tx)(m,"create",{getParams:(e="",{contentStateJson:t}={})=>({contentStateJson:t||""}),getApiMethod:e=>e.TwitterArticles.createTwitterArticle,context:"CREATE_TWITTER_ARTICLE",mapResponseToActions:(e,t,i)=>e=>{const t=i(),r=(0,d.o1)(t);if(e&&r){var o;const{entities:i,result:a}=e,s="string"==typeof a&&(null==i||null==(o=i.twitterArticles)?void 0:o[a].rest_id),c=E(r,t,h.sv.ALL),d=E(r,t,h.sv.DRAFT);return i&&s?(0,n.Z)([(0,l.dP)(i),null==c?void 0:c.injectItems([s]),null==d?void 0:d.injectItems([s])]):void 0}}}),delete:(0,s.Tx)(m,"delete",{getParams:e=>({twitterArticleId:e}),getApiMethod:e=>e.TwitterArticles.deleteTwitterArticle,context:"DELETE_TWITTER_ARTICLE",mapResponseToActions:(e,t,i)=>t=>{const r=i(),o=(0,d.o1)(r);if(o){const t=E(o,r,h.sv.ALL),i=E(o,r,h.sv.DRAFT),a=E(o,r,h.sv.PUBLISHED);return(0,n.Z)([null==t?void 0:t.removeItems([e]),null==i?void 0:i.removeItems([e]),null==a?void 0:a.removeItems([e])])}}}),updateCoverImage:(0,s.Tx)(m,"updateCoverImage",{getParams:(e,{mediaId:t}={})=>({twitterArticleId:e,mediaId:t}),getApiMethod:e=>e.TwitterArticles.updateTwitterArticleCoverImage,context:"UPDATE_TWITTER_ARTICLE_COVER_IMAGE",mapResponseToActions:A}),updateData:(0,s.Tx)(m,"updateData",{getParams:(e,{contentStateJson:t,plaintext:i,wordCount:r}={})=>({twitterArticleId:e,contentStateJson:t,plaintext:i,wordCount:r}),getApiMethod:e=>e.TwitterArticles.updateTwitterArticleData,context:"UPDATE_TWITTER_ARTICLE_DATA",mapResponseToActions:A}),updateMedia:(0,s.Tx)(m,"updateMedia",{getParams:(e,{mediaKeys:t}={})=>({twitterArticleId:e,mediaKeys:t}),getApiMethod:e=>e.TwitterArticles.updateTwitterArticleMedia,context:"UPDATE_TWITTER_ARTICLE_MEDIA",mapResponseToActions:A}),updateTitle:(0,s.Tx)(m,"updateTitle",{getParams:(e,{title:t}={})=>({twitterArticleId:e,title:t}),getApiMethod:e=>e.TwitterArticles.updateTwitterArticleTitle,context:"UPDATE_TWITTER_ARTICLE_TITLE",mapResponseToActions:A}),updateVisibility:(0,s.Tx)(m,"updateVisibility",{getParams:(e,{visibility:t}={})=>({twitterArticleId:e,visibility:t}),getApiMethod:e=>e.TwitterArticles.updateTwitterArticleVisibility,context:"UPDATE_TWITTER_ARTICLE_VISIBILITY",mapResponseToActions:(e,t,i)=>t=>{var r;const o=null==t||null==(r=t.entities)?void 0:r.twitterArticles[e],a=i(),l=(0,d.o1)(a);if(o&&l){const t=[D.updateOne(e,o)],i=o.metadata.visibility,r=E(l,a,h.sv.DRAFT),s=E(l,a,h.sv.PUBLISHED);if(i===h.sv.PUBLISHED)return(0,n.Z)([...t,null==s?void 0:s.injectItems([e]),null==r?void 0:r.removeItems([e])]);if(i===h.sv.DRAFT)return(0,n.Z)([...t,null==s?void 0:s.removeItems([e]),null==r?void 0:r.injectItems([e])])}}})},v="twitterArticles",I=e=>`rweb/twitterArticles/${e}`,_=I("ADD_COVER_IMAGE"),y=I("REMOVE_COVER_IMAGE"),w=I("SET_EDITOR_STATE"),g=I("SET_IS_TWITTER_ARTICLE_LOADING"),f=I("SET_MEDIA_ENTITY_KEY_TO_FILES_MAP"),Z=I("SET_MEDIA_ID_TO_LOCAL_MEDIA_ID_MAP"),M=I("SET_PREV_MEDIA_ENTITY_KEYS"),L=I("SET_PREV_TWITTER_ARTICLE_ID"),R=I("SET_PREV_TWITTER_ARTICLE_MEDIA"),C=I("SET_MEDIA_BEING_EDITED"),S=I("SET_MEDIA_ENTITY_KEY_BEING_EDITED"),P={coverImageId:void 0,editorState:(e=>{const t=r.Z.initEditorState(e);return r.Z.convertEmojiToEntities(t)})(),isTwitterArticleLoading:!1,mediaBeingEdited:void 0,mediaEntityKeyBeingEdited:void 0,mediaEntityKeyToFilesMap:{},mediaIdToLocalMediaIdMap:{},prevMediaEntityKeys:[],prevTwitterArticleId:void 0,prevTwitterArticleMedia:[]};o.Z.register({[v]:function(e=P,t){var i,r,n,o,a,l,s,c,d,u;if(!t)return e;switch(t.type){case _:return{...e,coverImageId:null==(i=t.meta)?void 0:i.mediaId};case y:return{...e,coverImageId:void 0};case Z:return{...e,mediaIdToLocalMediaIdMap:(null==(r=t.meta)?void 0:r.mediaIdToLocalMediaIdMap)||{}};case f:return{...e,mediaEntityKeyToFilesMap:(null==(n=t.meta)?void 0:n.mediaEntityKeyToFilesMap)||{}};case w:return{...e,editorState:(null==(o=t.meta)?void 0:o.editorState)||e.editorState};case g:return{...e,isTwitterArticleLoading:(null==(a=t.meta)?void 0:a.isTwitterArticleLoading)||!1};case M:return{...e,prevMediaEntityKeys:(null==(l=t.meta)?void 0:l.prevMediaEntityKeys)||[]};case L:return{...e,prevTwitterArticleId:null==(s=t.meta)?void 0:s.prevTwitterArticleId};case R:return{...e,prevTwitterArticleMedia:(null==(c=t.meta)?void 0:c.prevTwitterArticleMedia)||[]};case C:return{...e,mediaBeingEdited:null==(d=t.meta)?void 0:d.mediaBeingEdited};case S:return{...e,mediaEntityKeyBeingEdited:null==(u=t.meta)?void 0:u.mediaEntityKeyBeingEdited};default:return e}}});const x=(e,t)=>{var i;const r=m.select(e,t),n=null==r||null==(i=r.metadata)?void 0:i.authorResults.result;return"User"===(null==n?void 0:n.__typename)?null==n?void 0:n.rest_id:void 0},k=e=>{var t;const i=e.cover_image;var r,n,o;if("ApiImage"===(null==i||null==(t=i.media_info)?void 0:t.__typename))return{height:null==i||null==(r=i.media_info)?void 0:r.original_img_height,url:null==i||null==(n=i.media_info)?void 0:n.original_img_url,width:null==i||null==(o=i.media_info)?void 0:o.original_img_width}},D={...m,...p,...b,addCoverImage:e=>({meta:{mediaId:e},type:_}),removeCoverImage:e=>({meta:{mediaId:e},type:y}),selectAuthor:(e,t)=>{const i=x(e,t);return i?u.ZP.select(e,i):void 0},selectAuthorFetchStatus:(e,t)=>{const i=x(e,t);return i?u.ZP.selectFetchStatus(e,i):void 0},selectAuthorId:x,selectCoverMediaId:e=>e.twitterArticles.coverImageId,selectEditorState:e=>e.twitterArticles.editorState,selectIsTwitterArticleLoading:e=>e.twitterArticles.isTwitterArticleLoading,selectMediaBeingEdited:e=>e.twitterArticles.mediaBeingEdited,selectMediaEntityKeyBeingEdited:e=>e.twitterArticles.mediaEntityKeyBeingEdited,selectMediaEntityKeyToFilesMap:e=>e.twitterArticles.mediaEntityKeyToFilesMap,selectMediaIdToLocalMediaIdMap:e=>e.twitterArticles.mediaIdToLocalMediaIdMap,selectPrevMediaEntityKeys:e=>e.twitterArticles.prevMediaEntityKeys,selectPrevTwitterArticleId:e=>e.twitterArticles.prevTwitterArticleId,selectPrevTwitterArticleMedia:e=>e.twitterArticles.prevTwitterArticleMedia,selectTwitterArticleTitle:(e,t)=>{const i=m.select(e,t);return null==i?void 0:i.title},setEditorState:e=>({meta:{editorState:e},type:w}),setIsTwitterArticleLoading:e=>({meta:{isTwitterArticleLoading:e},type:g}),setMediaBeingEdited:e=>({meta:{mediaBeingEdited:e},type:C}),setMediaEntityKeyBeingEdited:e=>({meta:{mediaEntityKeyBeingEdited:e},type:S}),setMediaEntityKeyToFilesMap:e=>({meta:{mediaEntityKeyToFilesMap:e},type:f}),setMediaIdToLocalMediaIdMap:e=>({meta:{mediaIdToLocalMediaIdMap:e},type:Z}),setPrevMediaEntityKeys:e=>({meta:{prevMediaEntityKeys:e},type:M}),setPrevTwitterArticleId:e=>({meta:{prevTwitterArticleId:e},type:L}),setPrevTwitterArticleMedia:e=>({meta:{prevTwitterArticleMedia:e},type:R})},N=c.Z.register(D)},12261:(e,t,i)=>{i.d(t,{ZP:()=>s});var r=i(16587),n=i(40947);const o=(e,t)=>`twitterArticlesSlice-${e}-${t||"all"}`,a=(e,t)=>(0,n.Z)({contextSuffix:"TWITTER_ARTICLES_SLICE",getFetchApiEndpoint:e=>e.TwitterArticles.fetchTwitterArticlesSlice,getEndpointParams:i=>({...i,userId:e,visibility:t}),sliceKey:o(e,t)}),l=(e,t)=>{const i=(0,r.Z)(((e,t)=>a(e,t)));return i(e,t)},s={fetchIfNeeded:(e,t)=>l(e,t).fetchIfNeeded(),selectFetchStatus:(e,t,i)=>l(t,i).selectFetchStatus(e),selectSliceModule:l,selectTwitterArticles:(e,t,i)=>l(t,i).selectItems(e),twitterArticlesSliceModule:a}},45912:(e,t,i)=>{i.d(t,{C0:()=>s,DC:()=>a,_e:()=>r,fk:()=>n,pc:()=>l,sv:()=>o});const r=Object.freeze({GIF:"TweetGif",IMAGE:"TweetImage",VIDEO:"TweetVideo"}),n=Object.freeze({DRAFT:"Draft",PUBLISHED:"Published"}),o=Object.freeze({DRAFT:n.DRAFT,PUBLISHED:n.PUBLISHED,ALL:void 0}),a=Object.freeze({MEDIA:"MEDIA",TWEET:"TWEET"}),l=Object.freeze({IMMUTABLE:"IMMUTABLE"}),s=Object.freeze({TWITTER_ARTICLES_TAB:"TWITTER_ARTICLES_TAB",TWITTER_ARTICLE_VIEW:"TWITTER_ARTICLE_VIEW",LONGFORM_COMPOSER:"LONGFORM_COMPOSER"})},20901:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(78772),n=i(62104);function o(e){return(0,n.Z)({timelineId:`favorites-${e}`,network:{getEndpoint:e=>e.ProfileTimelines.fetchLikes,getEndpointParams:t=>{const{count:i,cursor:r}=t,n={count:i,userId:e,cursor:void 0};return"string"==typeof r&&(n.cursor=r),n}},formatResponse:r.Z,context:"FETCH_LIKES_TIMELINE",perfKey:"likes-GraphQL"})}},19282:(e,t,i)=>{i.d(t,{$J:()=>l,A$:()=>u,Ap:()=>b,Br:()=>I,CO:()=>Z,Dg:()=>W,EU:()=>M,Eu:()=>B,F2:()=>k,Ff:()=>v,Fk:()=>h,G6:()=>p,GU:()=>c,K8:()=>P,KB:()=>y,Pm:()=>A,S4:()=>T,T0:()=>L,T5:()=>D,UQ:()=>w,VZ:()=>d,Wl:()=>s,_f:()=>R,bO:()=>F,bj:()=>N,eO:()=>f,fL:()=>E,fq:()=>x,l7:()=>_,mX:()=>C,ru:()=>a,uQ:()=>g,x4:()=>S,x7:()=>m,yK:()=>o});var r=i(73228),n=i.n(r);const o="Tweet Note",a="Please choose either 1 GIF or up to 4 photos.",l="Publish",s="Saving...",c="Send via Direct Message",d="Success! Your Note has been published",u="Success! Your Note has been published and the link copied to your clipboard",m="Success! Your Note has been published and is ready to Tweet",p="Success! Your Note has been published, is ready to Tweet, and the link copied to your clipboard",T="Note Title",h="Add a title",E="Tweet",A="Unpublish, move to drafts",b="To edit, return to drafts",v="Uploading media...",I="Cancel upload",_="Saving media...",y="View",w="Stay focused on your writing by turning on focus time",g="Return to the regular editor by exiting focus time",f="Your Note needs a title and content before publishing.",Z="Your Note has a title, but needs content before publishing.",M="Your Note has been written, but needs a title before publishing. ",L="Wait! You can’t publish this Note yet. Your title is over the character limit. Try shortening it, then publishing.",R="Wait! You can’t publish this Note yet. Your Note is over the word limit. Try shortening the body text, then publishing.",C="Wait! You can’t publish this Note yet. Your title is over the character limit, and your Note is over the word count. Try shortening both, then publishing.",S="Wait! you can’t publish this Note yet. Your title is over the character limit. Try shortening the title, adding something to the body, and then publishing.",P="Wait! You can’t publish this Note yet. Your Note needs a title, and your Note is over the word count. Try adding a title, shortening the body text, and then publishing.",x="After you publish, Tweet it or get a link to share it around the Internet.",k="Share",D="We recommend a title between 50-80 characters",N=n().a7da0adb,B=n().aea1d455,W=" reading time",F="This link may be incorrect. Click on one of your Notes from the left sidebar to read, edit, or publish a Note."},40809:(e,t,i)=>{i.d(t,{HD:()=>o,cu:()=>a});i(85940);const r="column-",n=e=>e.index>0,o=e=>!(!e||!e.id)&&e.id.startsWith(r),a=e=>{var t,i;return!n(e)&&(null==(t=e.location.state)||null==(i=t.column)?void 0:i.hideHeader)}},64726:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var r=i(2784),n=i(90601),o=i(73569);const a=(e={})=>(0,n.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.Z.root,e.style],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M11 18v2H4.502c-1.378 0-2.5-1.121-2.5-2.5V3h8.535l2 3h9.465v7h-2V8h-8.535l-2-3H4.002v12.5c0 .275.224.5.5.5H11zm8.502 0h-2.073l2-2-1.414-1.414L13.601 19l4.414 4.414L19.429 22l-2-2H23v-2h-3.498z"}))});a.metadata={width:24,height:24};const l=a},2098:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var r=i(2784),n=i(90601),o=i(93987),a=i(73569);const l=(e={})=>{const t=r.useContext(o.Z);return(0,n.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.Z.root,e.style,t&&a.Z.iconRTL],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M13 3h8v8h-2V6.41l-5.043 5.05-1.414-1.42L17.586 5H13V3zm-1.543 10.96L6.414 19H11v2H3v-8h2v4.59l5.043-5.05 1.414 1.42z"}))})};l.metadata={width:24,height:24};const s=l},417:(e,t,i)=>{i.d(t,{Z:()=>r});const r=e=>Array.isArray(e)?e[0]:void 0}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.TwitterArticles~bundle.UserProfile.f0ab5f8a.js.map