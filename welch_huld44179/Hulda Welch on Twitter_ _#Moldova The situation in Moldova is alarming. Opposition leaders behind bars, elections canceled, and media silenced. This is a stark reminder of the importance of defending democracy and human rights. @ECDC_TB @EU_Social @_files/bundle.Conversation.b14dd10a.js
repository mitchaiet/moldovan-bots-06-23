"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["bundle.Conversation","icons/IconBookStrokeOff-js","icons/IconMoney-js","icons/IconTrashcan-js"],{51507:(e,t,n)=>{n.d(t,{$6:()=>i,eY:()=>c,zt:()=>a});var o=n(2784);const r=o.createContext(!1);function a(e){return o.createElement(r.Provider,e)}const i=r.Consumer;function c(){return o.useContext(r)}},16659:(e,t,n)=>{n.d(t,{Z:()=>h,C:()=>_});var o=n(2784),r=n(29496),a=n(73186),i=n(73228),c=n.n(i),s=n(14075),l=n(8716),d=n(31261),u=n(92160);const m=(e,t)=>{var n;const o=t.module.selectMetadata(e);return(null==o||null==(n=o.reader_mode_config)?void 0:n.is_reader_mode_available)||!1},p=(0,u.Z)().propsFromState((()=>({readerModeAvailable:m}))),g=c().b8f3500a,h=({focalTweet:e,isExpanded:t,readerModeAvailable:n})=>{var a;const{featureSwitches:i,userClaims:c}=o.useContext(d.rC),u=i.isTrue("longform_reader_mode_view_in_reader_mode_entry_button_enabled"),m=(0,l.Z)(),p=n&&(null==c?void 0:c.isTrueAndEnabled("subscriptions_feature_1005")),h=null==e?void 0:e.id_str,_=null==e||null==(a=e.user)?void 0:a.screen_name,b=()=>{m.scribe({action:"click",element:t?"view_in_reader_mode_button":"reader_mode_header_icon_enable",page:"thread",section:"reader_mode",data:{tweet_id:h}})};return p?(()=>{if(h&&_){const e=`/${_}/thread/${h}`;return t?u?o.createElement(r.ZP,{link:e,onClick:b,style:y.button,type:"primaryOutlined"},g):null:o.createElement(r.ZP,{icon:o.createElement(s.default,{style:y.icon}),link:e,onClick:b,type:"brandText"})}return null})():null},y=a.Z.create((e=>({button:{marginTop:e.spaces.space8,marginBottom:e.spaces.space20},icon:{color:e.colors.text,weight:"bold"}}))),_=p((({focalTweet:e,isExpanded:t,readerModeAvailable:n})=>o.createElement(h,{focalTweet:e,isExpanded:t,readerModeAvailable:n})))},65249:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(1206),r=n(63140);const a={[r.ZP.OtherUserSuspended]:{customAction:o.Z},[r.ZP.StatusViewForbidden]:{customAction:o.Z}}},3978:(e,t,n)=>{n.d(t,{It:()=>d,mD:()=>l,sE:()=>c});var o=n(50984),r=n(95871);const a=["da","de","en","en-gb","es","et","eu","fi","fil","fr","ga","gl","ht","hu","id","it","lt","lv","nl","no","ms","pl","pt","sk","sl","sv","tr","vi"],i={"en-gb":"en","en-ss":"en",fil:"tl",he:"iw",id:"in",msa:"ms","xx-lc":"en"},c=e=>{const t=e.toLowerCase();return i[t]||t},s=(e,t)=>{const n=c(e);return!(a.indexOf(n)>-1&&t<20)&&!("und"===e)},l=({displayTextRange:e,entities:t,language:n,text:a})=>{if(!e||!s(n,e[1]-e[0]))return!1;const i=((e,t)=>{let n=r.Z.getTwemojiEntities(e).map((e=>e.indices));for(const e in t)n=n.concat(t[e].map((e=>e.indices)));return n.sort(((e,t)=>e[0]-t[0])),n})(a,t),c=((e,t,n)=>{const{accText:o,lastIndex:r}=n.reduce((({accText:n,lastIndex:o},r)=>r[1]<=o||t[1]<=r[0]?{lastIndex:o,accText:n}:{accText:n+e.slice(o,r[0]),lastIndex:r[1]}),{accText:"",lastIndex:t[0]});return o+e.slice(r,t[1])})(a,e,i);return!(0,o.Z)(c)&&s(n,c.length)},d=e=>{if(e.includes("-"))return e;if(navigator.language&&navigator.language.startsWith(e))return navigator.language;if(window.Intl&&window.Intl.Locale){const{region:t}=new window.Intl.Locale(e).maximize();return`${e}-${t}`}return"ar"===e?"ar-EG":e}},24930:(e,t,n)=>{n.r(t),n.d(t,{ConversationScreen:()=>vt,default:()=>Zt});n(36728),n(6886),n(85940);var o=n(2784),r=n(72175),a=n(25686),i=n(36934),c=n(37800),s=n(88990),l=n(73186),d=n(73228),u=n.n(d),m=n(32307),p=n(16587),g=n(40809),h=n(29496),y=n(73036),_=n(76238),b=n(92940),f=n(1179),w=n(60673);const C=u().af9c8a3e,E=({featureSwitches:e,scribeNamespace:t,startLocation:n,userId:r})=>{const a=(0,w.z)(),i=!!r&&y.ZP.isMobileOS()&&!f.Z.isStandaloneApp(),c=b.ri.InterstitialSwitchToApp,s=o.useCallback((o=>{o.preventDefault(),a.scribe({...t,element:"open_app_button",action:"click"}),(0,_._)({downloadAppUrlPath:c,startLocation:n,featureSwitches:e,userId:r})}),[a,c,e,t,n,r]);return i&&e.isTrue("responsive_web_open_app_appbar_button_enabled")?o.createElement(h.ZP,{accessibilityLabel:C,children:C,onPress:s,size:"small",type:"primaryOutlined"}):null};var v=n(62230),P=n(33252),Z=n(53331),T=n(43748),S=n(67006),A=n(93125),x=n(1778),I=n(13325),k=n(43467),D=n(63705),L=n(16659),N=n(73451);const M=(0,n(56499).Z)({loader:()=>Promise.all([n.e("shared~loader.AudioDock~loader.DashMenu~loader.SideNav~loader.Typeahead~loader.AppModules~loader.DMDrawer~bun"),n.e("shared~loader.AudioDock~loader.DashMenu~loader.SideNav~loader.Typeahead~loader.DMDrawer~bundle.Account~bundle"),n.e("shared~loader.AudioDock~loader.DMDrawer~bundle.AudioSpacePeek~bundle.AudioSpaceAnalytics~bundle.AudioSpaceRep"),n.e("shared~loader.Typeahead~loader.DMDrawer~bundle.MultiAccount~bundle.Articles~bundle.AudioSpaceDetail~bundle.Au"),n.e("shared~loader.Typeahead~loader.AppModules~loader.DMDrawer~bundle.Articles~bundle.AudioSpaceDetail~bundle.Audi"),n.e("shared~loader.AudioDock~loader.DMDrawer~bundle.Articles~bundle.AudioSpacePeek~bundle.AudioSpaceDiscovery~bund"),n.e("shared~loader.AudioDock~loader.SideNav~loader.Typeahead~loader.DMDrawer~bundle.MultiAccount~bundle.AudioSpace"),n.e("shared~loader.DashMenu~loader.DMDrawer~bundle.Articles~bundle.AudioSpacePeek~bundle.AudioSpaceAnalytics~bundl"),n.e("shared~loader.Typeahead~loader.DMDrawer~bundle.AudioSpacePeek~bundle.Birdwatch~bundle.Communities~bundle.Comp"),n.e("shared~loader.DMDrawer~bundle.Articles~bundle.AudioSpacePeek~bundle.Birdwatch~~bundle.Communities~bundle.Comp"),n.e("shared~loader.SideNav~loader.Typeahead~loader.DMDrawer~bundle.MultiAccount~bundle.AudioSpacePeek~bundle.Birdw"),n.e("shared~loader.AudioDock~loader.DMDrawer~bundle.AudioSpaceDetail~bundle.AudioSpacePeek~bundle.AudioSpaceDiscov"),n.e("shared~loader.DMDrawer~bundle.AudioSpacePeek~bundle.Birdwatch~bundle.Compose~~ondemand.SettingsInternals~onde"),n.e("shared~loader.DashMenu~loader.SideNav~ondemand.Dropdown~loader.DMDrawer~bundle.Birdwatch~~bundle.Communities~"),n.e("shared~bundle.Birdwatch~bundle.Communities~bundle.Compose~bundle.ComposeMedia~ondemand.SettingsInternals~onde"),n.e("shared~loader.DMDrawer~bundle.AudioSpacePeek~bundle.Compose~~bundle.DMRichTextCompose~bundle.DirectMessages~b"),n.e("shared~ondemand.Dropdown~bundle.Communities~bundle.ReaderMode~ondemand.Verified~loader.WideLayout"),n.e("shared~loader.WideLayout~loader.ProfileClusterFollow"),n.e("loader.WideLayout")]).then(n.bind(n,66767)),renderPlaceholder:(e,t)=>null});var B=n(75207),F=n(45925),R=n(91584),q=n(36094),O=n(45855),H=n(76275),V=n(46110),U=n(33988),z=n(52612),$=n(35210),W=n(72504),j=n(23803),G=n(23335),K=n(48580),Q=n(92160),Y=n(72314),X=n(19953),J=n(38429),ee=n(17943),te=n(67935),ne=n(41624),oe=n(62854),re=n(97758),ae=n(57659);const ie=(e,t)=>e.location&&e.location.state&&e.location.state[t],ce=(e,t)=>"PUSH"===t.history.action,se=(e,t)=>{const n=ie(t,"focal");return n||le(e,t)},le=(e,t)=>{const{location:n,match:o}=t;return o.params&&o.params.statusId?o.params.statusId:n.query&&n.query.tweet_id&&"string"==typeof n.query.tweet_id?n.query.tweet_id:""},de=(e,t)=>t.match.params.screenName,ue=(e,t)=>ie(t,"socialContext"),me=(e,t)=>ie(t,"topicFollowPrompt"),pe=(e,t)=>ie(t,"contextTweetId"),ge=(e,t)=>ie(t,"promotedContent"),he=(e,t)=>ie(t,"overflow"),ye=(e,t)=>ie(t,"contextualClientEventInfo"),_e=(e,t)=>{const n=ie(t,"referrer"),o=se(e,t);return!!n&&n.includes(`/i/topics/tweet/${o}`)},be=(e,t)=>oe.ZP.selectHydrated(e,se(e,t)),fe=(e,t)=>{const n=se(e,t),o=oe.ZP.selectHydrated(e,n);return o&&o.conversation_id_str?oe.ZP.selectHydrated(e,o.conversation_id_str):null},we=(e,t)=>oe.ZP.selectFetchStatus(e,se(e,t)),Ce=(e,t)=>t.location.query&&"string"==typeof t.location.query.cxt?t.location.query.cxt:void 0;function Ee(e,t){const n=be(e,t),o=n?(0,Y.z0)(e,n):void 0;return n&&o?(0,V.GK)(n,o):void 0}const ve=(e,t)=>{const n=be(e,t),o=n?n.conversation_id_str:null,r=o?(0,X.Ln)(e,o):[];return r?ae.ZP.selectMany(e,r):[]},Pe=(e,t)=>(0,ne.BV)(e,"seo_rweb_tweets_metatags_14920"),Ze=(e,t)=>(0,ne.BV)(e,"share_rweb_tweet_image_opengraph_copy_15208"),Te=(e,t)=>(0,ne.BV)(e,"share_video_poster_play_icon_overlay_rweb_14643"),Se=(e,t)=>(0,ne.BV)(e,"share_rweb_tweet_video_opengraph_copy_15219"),Ae=(e,t)=>"render_rux_injections"===(0,ne.BV)(e,"seo_rweb_ssr_enable_rux_injections_15432"),xe=(0,Q.Z)().propsFromState((()=>({canGoBack:K.q,communitySocialContextOfFocalTweet:Ee,contextTweetId:pe,contextualClientEventInfo:ye,conversationFollowNudgeUsers:ve,focalTweet:be,initialFetchStatus:we,isForwardNavigation:ce,isReferredFromExploreTopics:_e,userLanguage:te.VT,viewerUser:ae.ZP.selectViewerUser,openGraphImageTweetBucket:Ze,openGraphPlayIconBucket:Te,openGraphVideoTweetBucket:Se,overflowCount:he,promotedContent:ge,richLandingContextId:Ce,rootTweet:fe,screenName:de,selectedTweetId:le,socialContext:ue,startLocation:ee.Lg,statusId:se,topicFollowPrompt:me,tweetDetailNav:J.wZ,tweetMetatagsBucket:Pe,shouldRenderRuxInjectionsForVerifiedCrawler:Ae}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,G.createLocalApiErrorHandlerWithContextFactory)("CONVERSATION_SCREEN"),clearTimelineCache:(e,t)=>(0,re.Z)(e,t)}))).withAnalytics({page:"tweet"});var Ie=n(79150);const ke=u().f0c37ddb,De=u().a98f3d0f,Le=u().j3da85c1,Ne=u().d0681155,Me=u().be59fddf,Be=u().b357b2ad,Fe=u().aba12f5d,Re=u().b9184ae3,qe=u().e44c7ea1,Oe=u().d0e26387,He=u().cd869707,Ve=u().jade381b,Ue=u().f9e9679f,ze=Object.freeze({CONTROL:0,VARIANT_1:1,VARIANT_2:2,VARIANT_3:3,VARIANT_4:4,VARIANT_5:5,VARIANT_6:6,VARIANT_7:7,VARIANT_8:8}),$e=e=>{switch(e){case"title_1":return{title:ze.VARIANT_1,description:ze.CONTROL};case"title_2":return{title:ze.VARIANT_2,description:ze.CONTROL};case"title_3":return{title:ze.VARIANT_3,description:ze.CONTROL};case"title_4":return{title:ze.VARIANT_4,description:ze.CONTROL};case"title_5":return{title:ze.VARIANT_5,description:ze.CONTROL};case"title_6":return{title:ze.VARIANT_6,description:ze.CONTROL};case"title_7":return{title:ze.VARIANT_7,description:ze.CONTROL};case"title_8":return{title:ze.VARIANT_8,description:ze.CONTROL};default:return{title:ze.CONTROL,description:ze.CONTROL}}},We=u().ad666301,je=u().g132f681,Ge=u().bc6bb295,Ke=u().hf327f6b,Qe=u().f522ae65,Ye=u().d58c1576,Xe=u().bdc49424,Je=u().e38c0975,et=u().ie816cb4,tt=u().e3521fcd,nt="linkedinbot",ot="http://www.linkedin.com",rt=Object.freeze({Text:0,Image:1,Video:2,Other:3});function at(e){return`“${e}”`}function it(e){if(null==e)return!1;const t=e.userAgent.toLowerCase();return t.includes(nt)||t.includes(ot)}function ct(e,t,n,o){var r,a,i,c,s,l,d,u;const m=function(e){let t=0,n=0;for(const a of null!=(o=null==(r=e.extended_entities)?void 0:r.media)?o:[]){var o,r;"video"===a.type||"vine"===a.type?n+=1:t+=1}return 0===t&&0===n?rt.Text:t>=1&&0===n?rt.Image:0===t&&1===n?rt.Video:rt.Other}(e),p=null==(r=e.entities)||null==(a=r.media)||null==(i=a[0])?void 0:i.url,g=We({fullName:e.user.name}),h=at(null!=(c=e.full_text)?c:""),y=null==p?h:h.replace(` ${p}`,"");let _=(null==e||null==(s=e.entities)||null==(l=s.media)||null==(d=l[0])?void 0:d.media_url_https)||(null==e||null==(u=e.user)?void 0:u.profile_image_url_https);_&&_.includes("/profile_images/")?_=_.replace("_normal","_200x200"):it(t)||(_+=":large");const b={ogTitle:g,ogDescription:y,ogImage:_};if(m===rt.Image&&n.getValue("responsive_web_opengraph_image_tweet_copy_1",!0)){if("treatment_1"===o.share_rweb_tweet_image_opengraph_copy_15208)return{...b,ogTitle:je({screenName:e.user.screen_name})};if("treatment_2"===o.share_rweb_tweet_image_opengraph_copy_15208)return{...b,ogTitle:Ge({screenName:e.user.screen_name}),ogDescription:at(Xe)};if("treatment_3"===o.share_rweb_tweet_image_opengraph_copy_15208)return{...b,ogTitle:Ke({screenName:e.user.screen_name}),ogDescription:at(Je({screenName:e.user.screen_name}))}}if(m===rt.Video){if("treatment"===o.share_video_poster_play_icon_overlay_rweb_14643)return!_||it(t)||_.includes("/profile_images/")||(_+="_playIcon_v0"),{...b,ogImage:_};if(n.getValue("responsive_web_opengraph_video_tweet_copy_1",!0)){if("treatment_1"===o.share_rweb_tweet_video_opengraph_copy_15219)return{...b,ogTitle:Ge({screenName:e.user.screen_name}),ogDescription:at(et)};if("treatment_2"===o.share_rweb_tweet_video_opengraph_copy_15219)return{...b,ogTitle:Qe({screenName:e.user.screen_name}),ogDescription:at(et)};if("treatment_3"===o.share_rweb_tweet_video_opengraph_copy_15219)return{...b,ogTitle:Ye,ogDescription:at(tt({screenName:e.user.screen_name}))}}}return b}const st=u().ea831526,lt=u().a90e1e67({noun:""}),dt=u().c299a6c0,ut=u().c2ed3314,mt=u().cfe877ca,pt=u().e06b864c,gt=u().f5b3dc1e,ht=u().a078ff70,yt={page:"tweet"},_t={page:"tweet",section:"landing"},bt=(0,p.Z)((e=>(0,B.i)(e))),ft=(0,p.Z)(((e,t,n,o,r)=>{var a,i;return{referrer:e,controller_data:e&&(null==t||null==(a=t.details)||null==(i=a.timelinesDetails)?void 0:i.controllerData),overflowCount:n,with_rux_injections:o,rux_context:r}})),wt=(0,p.Z)(((e,t)=>(0,W.ZP)({focalTweetId:e,fetchOptions:t}))),Ct=[$.Z.Community];function Et({context:e}){if(!e)return null;if(e.contextType===$.Z.Community){const t=e.landingUrl?(0,R.s9)(e.landingUrl):void 0;return o.createElement(i.ZP,{link:t},e.text)}return null}class vt extends o.Component{constructor(e,t){super(e,t),this._getScribeData=(0,p.Z)(((e,t)=>({items:[H.Z.forTweet(e,t)],tweet_id:e}))),this._getFollowNudgeAvatars=()=>{const{conversationFollowNudgeUsers:e}=this.props,t=e.map((e=>e.profile_image_url_https));return o.createElement(c.Z,{borderWidth:"medium",userAvatarSize:"jumbo",userAvatarUrls:t})},this._handleShowFollowNudge=()=>{this.setState({shouldShowFirstStateFollowNudge:!0})},this._handleShowSecondStateFollowNudge=()=>{const{history:e,screenName:t,statusId:n}=this.props;this.setState({shouldShowFirstStateFollowNudge:!1});const o=t?`/${t.toLowerCase()}/status/${n}/follow_in_thread`:"";return e.push(o)},this._handleCloseFollowNudge=()=>{this.setState({shouldShowFirstStateFollowNudge:!1})},this._getMetadata=()=>{const{focalTweet:e,tweetMetatagsBucket:t}=this.props;if(null==(null==e?void 0:e.user))return{};const n=`https://twitter.com${this._getCanonicalPath()||""}`,o=`twitter://status?id=${e.id_str}`,r=this._showExperimentalTweetMetatags?t:"control",a=((e,t)=>{if(!t)return"";switch($e(e).title){case ze.VARIANT_1:return De({screenName:t.user.screen_name,tweetText:t.full_text});case ze.VARIANT_2:return Le({screenName:t.user.screen_name,tweetText:t.full_text});case ze.VARIANT_3:return Ne({fullName:t.user.name,tweetText:t.full_text});case ze.VARIANT_4:return Me({screenName:t.user.screen_name,tweetText:t.full_text});case ze.VARIANT_5:return Be({screenName:t.user.screen_name,tweetText:t.full_text,date:Ve(new Date(t.created_at))});case ze.VARIANT_6:return Fe({fullName:t.user.name,screenName:t.user.screen_name,tweetText:t.full_text});case ze.VARIANT_7:return Re({fullName:t.user.name,screenName:t.user.screen_name});case ze.VARIANT_8:return qe({fullName:t.user.name,screenName:t.user.screen_name,date:Ve(new Date(t.created_at))});default:return ke({fullName:t.user.name,tweetText:t.full_text})}})(r,e);return{canonical:n,deepLink:o,description:((e,t)=>{const n=$e(e).description;return t&&1===n?Oe({date:Ve(new Date(t.created_at)),tweetText:(0,Ie.AK)(t.text),likeCount:Ue(t.favorite_count),retweetCount:Ue(t.retweet_count),replyCount:Ue(t.reply_count)}):t&&2===n?He({date:Ve(new Date(t.created_at)),likeCount:Ue(t.favorite_count),retweetCount:Ue(t.retweet_count),replyCount:Ue(t.reply_count)}):""})(r,e),title:a}},this._getOpenGraphMetadata=()=>{const{featureSwitches:e,userAgent:t}=this.context,{focalTweet:n,openGraphImageTweetBucket:o,openGraphPlayIconBucket:r,openGraphVideoTweetBucket:a}=this.props;return null==(null==n?void 0:n.user)?{}:ct(n,t,e,{share_video_poster_play_icon_overlay_rweb_14643:r,share_rweb_tweet_image_opengraph_copy_15208:o,share_rweb_tweet_video_opengraph_copy_15219:a})},this._getFabState=()=>{const{promotedContent:e,statusId:t}=this.props;return{inReplyToStatusId:t,promotedContent:e}},this._getNavigationParams=()=>{const{contextualClientEventInfo:e,overflowCount:t,richLandingContextId:n,tweetDetailNav:o}=this.props,r=this._shouldRenderRuxInjections();return ft(o,e,t,r,n)},this._getModule=()=>{const{statusId:e}=this.props,t=this._getNavigationParams();return wt(e,t)},this._handleEntriesRendered=({entries:e,fetchStatus:t})=>{const{recordTTFL:n}=this.props;if(t===j.ZP.FAILED&&(this._shouldRecordTTFL=!1),this._shouldRecordTTFL&&e.length){const t=e.some((({type:e})=>e===z.ZP.Tweet));this._shouldRecordTTFL=!1,t&&n&&n("permalink")}},this._shouldRedirectToCanonical=()=>{var e;const{focalTweet:t,screenName:n,selectedTweetId:o,statusId:r}=this.props;return!(o!==r||null==t||null==(e=t.user)||!e.screen_name)&&(n&&t&&n.toLowerCase()!==t.user.screen_name.toLowerCase())},this._redirectToCanonical=()=>{const{history:e,location:t}=this.props;e.replace({pathname:this._getCanonicalPath(),query:t.query,state:t.state})},this._getCanonicalPath=()=>{const{focalTweet:e}=this.props;return e?`/${e.user.screen_name}/status/${e.id_str}`:"/"},this._getPathForTweetId=(e,t)=>`/${t||"i"}/status/${e}`,this._getScribeNamespace=()=>this._shouldRenderRuxInjections()?_t:yt,this.state={shouldShowFirstStateFollowNudge:!1},this._shouldRecordTTFL=!0,this._followNudgeConversationEnabled=this.context.featureSwitches.isTrue("follow_nudge_conversation_enabled"),this._isSSRVerifiedCrawlerRUXInjectionsEnabled=this.context.featureSwitches.isTrue("responsive_web_ssr_verified_crawler_rux_injections_enabled"),this._showExperimentalTweetMetatags=this.context.featureSwitches.isTrue("responsive_web_seo_tweet_metatags_experiment_enabled")}shouldComponentUpdate(e,t){return!(0,m.Z)(e,this.props)||!(0,m.Z)(this.state,t)}componentDidMount(){const{isForwardNavigation:e}=this.props;e&&this._clearTimelineCache()}componentWillUnmount(){this.context.setBackgroundClickHandler(null)}componentDidUpdate(e){const{conversationFollowNudgeUsers:t}=this.props;this._shouldRedirectToCanonical()?this._redirectToCanonical():this.props.statusId!==e.statusId&&this.props.isForwardNavigation&&this._clearTimelineCache();const n=t.length!==e.conversationFollowNudgeUsers.length,o=t.length&&7===t.length;this._followNudgeConversationEnabled&&n&&o&&this._handleShowFollowNudge()}render(){const{viewerUserId:e}=this.context,{communitySocialContextOfFocalTweet:t,focalTweet:n,history:a,promotedContent:i,socialContext:c,statusId:l,userLanguage:d}=this.props,{canonical:u,deepLink:m,description:p,title:g}=this._getMetadata(),{ogDescription:h,ogImage:y,ogTitle:_}=this._getOpenGraphMetadata(),b=null==n?void 0:n.possibly_sensitive,f=function(...e){return e.find((e=>e&&Ct.includes(e.contextType)))}(c,t),w=f&&o.createElement(Et,{context:f});return o.createElement(O.nO,{data:this._getScribeData(l,i),namespace:this._getScribeNamespace()},o.createElement(D.Z,null,b?o.createElement(r.ql,null,o.createElement("meta",{content:"adult",name:"rating"})):null,u?o.createElement(r.ql,null,o.createElement("link",{href:`https://publish.twitter.com/oembed?url=${u}`,rel:"alternate",title:g,type:"application/json+oembed"})):null,o.createElement(x.Z,{canonical:u,description:h,image:y,title:_,type:"article"}),o.createElement(A.Z,{featureSwitches:this.context.featureSwitches,userLanguage:d,viewerUserId:e}),o.createElement(S.Z,{deepLink:m}),o.createElement(T.Z,{canonical:u,preserveCasing:!0}),o.createElement(V.pz.Provider,{value:null==f?void 0:f.contextType},o.createElement(k.Z,{backLocation:"/",documentTitle:g,history:a,primaryContent:this._renderTimeline(),rightControl:this._renderRightControl(),sidebarContent:this._renderSidebarContent(),subtitle:w,title:f&&(C=f,C&&C.contextType===$.Z.Community?ut:null)||(n&&n.self_thread?dt:lt)}),this.state.shouldShowFirstStateFollowNudge?o.createElement(s.Z,{actionLabel:mt,graphic:this._getFollowNudgeAvatars,graphicDisplayMode:"illustration",headline:pt,onAction:this._handleShowSecondStateFollowNudge,onClose:this._handleCloseFollowNudge,onSecondaryAction:this._handleCloseFollowNudge,secondaryActionLabel:gt,subtext:ht,withCloseButton:!0}):null),o.createElement(Z.Z,{description:p,includeOpenGraphMeta:!1,title:g})));var C}_renderRightControl(){const{featureSwitches:e,viewerUserId:t}=this.context,{focalTweet:n,startLocation:r}=this.props;return o.createElement(a.Z,{style:Pt.mobileAppBarRightControl},o.createElement(E,{featureSwitches:e,scribeNamespace:this._getScribeNamespace(),startLocation:r,userId:t}),o.createElement(L.C,{focalTweet:n,module:this._getModule()}))}_renderSidebarContent(){const{focalTweet:e}=this.props;return e&&e.user.id_str?o.createElement(P.Z,{focalTweetId:null==e?void 0:e.id_str,withTopicsToFollow:!1,withWhoToFollow:!1},o.createElement(M,{focalTweetId:e.id_str})):null}_renderTimeline(){const{contextTweetId:e,focalTweet:t,location:n,promotedContent:r,rootTweet:a,screenName:i,selectedTweetId:c,socialContext:s,statusId:l,topicFollowPrompt:d}=this.props,u={selectedTweetId:c};return o.createElement(I.Z,{collectionName:st},o.createElement(N.Z,{apiErrorHandlerMap:bt(i),contextTweetId:e,fetchOptions:this._getNavigationParams(),focalTweet:t,focalTweetId:l,location:n,module:this._getModule(),onEntriesRendered:this._handleEntriesRendered,promotedContent:r,rootTweet:a||void 0,selectedTweet:u,socialContext:s,topicFollowPrompt:d,withRuxInjections:this._shouldRenderRuxInjections()}))}_canVerifiedCrawlerRenderRuxInjections(){const{shouldRenderRuxInjectionsForVerifiedCrawler:e}=this.props;return e&&this._isSSRVerifiedCrawlerRUXInjectionsEnabled}_shouldRenderRuxInjections(){const{featureSwitches:e}=this.context,{canGoBack:t,history:n,isReferredFromExploreTopics:o,richLandingContextId:r}=this.props;return!(0,g.HD)(n)&&(this._canVerifiedCrawlerRenderRuxInjections()||!!r||o||function(e,t){const n=F.zI({emptyIfServerRendered:!1,featureSwitches:t,httpReferer:!e&&document.referrer||""});return F.bi(n)}(t,e))}_clearTimelineCache(e=this._getModule(),t=this._getNavigationParams()){const{clearTimelineCache:n,createLocalApiErrorHandler:o,screenName:r}=this.props;n(e,t).catch(o(bt(r)))}}vt.contextType=v.Z,vt.defaultProps={recordTTFL:q.k$};const Pt=l.Z.create((e=>({mobileAppBarRightControl:{flexDirection:"row",alignItems:"center",height:e.componentDimensions.appBarHeightPx}}))),Zt=xe((0,U.Z)(vt))},950:(e,t,n)=>{n.r(t),n.d(t,{ConversationHiddenRepliesScreen:()=>M,default:()=>B});var o=n(2784),r=n(36934),a=n(8352),i=n(73228),c=n.n(i),s=n(16587),l=n(33252),d=n(43467),u=n(63705),m=n(40082),p=n(58711),g=n(3326),h=n(23335),y=n(92160),_=n(97758),b=n(57659);const f=(e,t)=>t.match.params.statusId,w=(e,t)=>t.match.params.screenName,C=(e,t)=>"PUSH"===t.history.action,E=(0,y.Z)().propsFromState((()=>({screenName:w,statusId:f,isForwardNavigation:C,viewerUser:b.ZP.selectViewerUser}))).adjustStateProps((e=>{const{viewerUser:t,...n}=e;return{loggedInScreenName:t?t.screen_name:void 0,...n}})).propsFromActions((()=>({createLocalApiErrorHandler:(0,h.createLocalApiErrorHandlerWithContextFactory)("HIDDEN_REPLIES_PAGE"),clearTimelineCache:e=>(0,_.Z)(e)}))).withAnalytics({page:"tweet",section:"moderated_replies"});var v=n(28412),P=n(76831),Z=n(44895),T=n(52612),S=n(37985);const A=({withUnhideReply:e})=>(0,v.Z)({},(0,Z.G)({}),{[T.ZP.Tweet]:{handlers:{[S.Z.Tweet]:(0,P.Cw)({createAdditionalProps:()=>({withUnhideReply:e}),displayBlocked:!0,divider:{top:!0,bottom:!0}})}}}),x=c().d806aa1a,I=c().d80c77dc,k=c().ef939f4b,D=c().efb9a9e0,L=o.createElement(c().I18NFormatMessage,{$i18n:"c9927419"},o.createElement(r.ZP,{link:"https://help.twitter.com/using-twitter/mentions-and-replies#hidden-reply"},c().b20c41ff)),N=()=>o.createElement(a.Z,{header:D,imageVariants:p.P.Turtle,message:L});class M extends o.Component{constructor(e){super(e),this._getMemoizedModule=(0,s.Z)((e=>(0,g.Z)(e))),this._getModule=()=>{const{statusId:e}=this.props;return this._getMemoizedModule(e)},this._clearTimelineCache()}render(){const{history:e,loggedInScreenName:t,screenName:n,statusId:r}=this.props;return n&&r?o.createElement(u.Z,null,o.createElement(d.Z,{backLocation:`/${n.toLowerCase()}/status/${r}`,history:e,primaryContent:this._renderPrimaryContent(),sidebarContent:o.createElement(l.Z,null),subtitle:n===t?I:k({screenName:n}),title:x})):null}_renderPrimaryContent(){const{loggedInScreenName:e,screenName:t}=this.props;return o.createElement(m.Z,{entryConfiguration:A({withUnhideReply:t===e}),module:this._getModule(),renderEmptyState:N,title:x})}_clearTimelineCache(e=this._getModule()){const{clearTimelineCache:t,createLocalApiErrorHandler:n,isForwardNavigation:o}=this.props;o&&t(e).catch(n({}))}}const B=E(M)},68808:(e,t,n)=>{n.d(t,{O:()=>c,d:()=>i});n(2784);var o=n(65526),r=n(482),a=n(79768);const i=e=>{(0,o.q)((()=>{const t=r.P_(),n=()=>{t.resume()},o=()=>{t.pause()};return window.addEventListener("focus",n),window.addEventListener("blur",o),()=>{r.IM(`${a.uB}:dwell:${e}`,t.end()),window.removeEventListener("focus",n),window.removeEventListener("blur",o)}}))},c=({screenType:e})=>(i(e),null)},99436:(e,t,n)=>{n.d(t,{$_:()=>l,FR:()=>s,ZP:()=>u});var o=n(2784),r=n(25686),a=n(54044),i=n(73186),c=n(46715);const s=e=>o.createElement(a.Z,null,(({windowWidth:t})=>{const n=t<i.Z.theme.breakpoints.small;return e(n?"space32":"space80")})),l=e=>o.createElement(a.Z,null,(({windowWidth:t})=>{const n=t<i.Z.theme.breakpoints.small;return e(n?d.mobileContainer:d.webContainer)})),d=i.Z.create((e=>({webContainer:{paddingHorizontal:e.spaces.space80},mobileContainer:{paddingHorizontal:e.spaces.space32}}))),u=({children:e})=>{const t=(0,c.yu)()?d.mobileContainer:d.webContainer;return o.createElement(r.Z,{style:t},e)}},24794:(e,t,n)=>{n.d(t,{Y:()=>x,Z:()=>k});var o=n(2784),r=n(99436),a=n(23791),i=n(92160),c=n(14854);const s=e=>e.quickPromote.targeting.contextualKeywords,l=(0,i.Z)().propsFromState((()=>({contextualKeywords:s}))).propsFromActions((()=>({setTargetedContextualKeywords:c.ch}))).withAnalytics(a.EP),d=(0,i.Z)().propsFromState((()=>({contextualKeywords:s}))).propsFromActions((()=>({setTargetedContextualKeywords:c.ch}))).withAnalytics(a.EP);var u=n(25686),m=n(78705),p=n(31165),g=n(73186),h=n(67647);function y({children:e,onBack:t}){const n=o.useMemo((()=>o.createElement(p.Z,{onClick:t})),[t]);return o.createElement(u.Z,{style:_.qpContainer,testID:h.Z.targetingKeywordsScreen},o.createElement(m.Z,{leftControl:n,style:_.appBar,title:"Select some keywords"}),e)}const _=g.Z.create((e=>({qpContainer:{flex:1},appBar:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,paddingStart:e.spaces.space8},noSpacing:{paddingHorizontal:"0"}})));n(6886);var b=n(94836),f=n(73228),w=n.n(f),C=n(65526),E=n(68808),v=n(34740),P=n(14522);function Z({contextualKeywords:e,index:t,keyword:n,setTargetedContextualKeywords:r}){const a=o.useCallback((()=>r(e.filter(((e,n)=>n!==t)))),[e,t,r]),i=o.useMemo((()=>({disabled:!1,mode:P.D.Remove,onSecondaryClick:a})),[a]);return o.createElement(v.Z,{secondaryAction:i,style:T.withMarginEnd,text:n})}const T=g.Z.create((e=>({withMarginEnd:{marginEnd:e.spaces.space8,marginBlockEnd:e.spaces.space8}}))),S=w().fe26420a;function A({analytics:e,contextualKeywords:t,recommendedKeywords:n=[],setTargetedContextualKeywords:r}){const[i,c]=o.useState(""),s=o.useCallback((e=>{const t=e.target.value;c(t)}),[]),l=o.useCallback((e=>{switch(e.key){case",":case"Enter":{e.preventDefault();const n=i.trim(),o=t.some((e=>e.toLowerCase()===n.toLowerCase()));""===n||o||(r(t.concat(n)),c(""));break}}}),[t,i,r]);return(0,C.q)((()=>()=>{(0,a.hq)(e)(a.Ur.setTargetingKeywords(t.join(",")))})),(0,C.q)((()=>{r(n)})),(0,E.d)(a.MN.TargetingKeywords),o.createElement(o.Fragment,null,o.createElement(u.Z,{style:I.selectionGroupContainer},o.createElement(b.Z,{editable:t.length<200,label:S,name:"keywords",onChange:s,onKeyDown:l,style:I.noSpacing,testID:h.Z.targetingKeywordsInput,value:i})),o.createElement(u.Z,{style:I.row},t.map(((e,n)=>o.createElement(Z,{contextualKeywords:t,index:n,key:n,keyword:e,setTargetedContextualKeywords:r})))))}const x=d(A),I=g.Z.create((e=>({selectionGroupContainer:{paddingTop:e.spaces.space16},row:{alignContent:"flex-start",flexDirection:"row",flexWrap:"wrap",minHeight:"150px",overflowX:"auto"},noSpacing:{paddingHorizontal:"0"}})));const k=l((function(e){const{analytics:t,contextualKeywords:n,history:i,location:c,match:s,setTargetedContextualKeywords:l}=e,d=o.useCallback((()=>{const{quickPromotePlatform:e,quickPromoteScreenName:t,screenName:n,statusId:o}=s.params;(0,a.Mi)(i,c)(n,o,e,t)}),[i,c,s.params]),u={analytics:t,contextualKeywords:n,setTargetedContextualKeywords:l};return o.createElement(y,{onBack:d},o.createElement(r.ZP,null,o.createElement(A,u)))}))},79164:(e,t,n)=>{n.r(t),n.d(t,{QuickPromoteScreen:()=>Yr,default:()=>Jr});n(6886),n(21515),n(71372);var o=n(2784),r=n(25686),a=n(7267),i=n(78705),c=n(31165),s=n(29496),l=n(44542),d=n(5252),u=n(73186),m=n(22685),p=n(73228),g=n.n(p),h=n(7333),y=n(72983),_=n(292),b=n(31261),f=n(65249);function w(e){throw new Error("Not reachable section reached!")}var C=n(79768),E=n(23803),v=(n(36728),n(85940),n(23791)),P=n(84292),Z=n(68808),T=n(67647);const S=({analytics:e,cancelButtonLabel:t,confirmButtonLabel:n,headline:r,onCancel:a,onConfirm:i,subtext:c})=>((0,Z.d)("drop_off_screen"),o.createElement(P.Z,{cancelButtonLabel:t,confirmButtonLabel:n,confirmButtonType:"primary",headline:r,onCancel:a,onConfirm:i,testID:T.Z.dropoffScreen,text:c})),A=g().iee9167a,x=g().ff6a9aaa,I=g().cfd2f35e,k=g().g8844150,D=({analytics:e,children:t,history:n,qpRouteParams:r,screensAllowedToNavigate:a})=>{const[i,c]=o.useState(null),s=o.useMemo((()=>{const{quickPromotePlatform:e,screenName:t,statusId:n}=r;return Object.keys(v.MN).map((o=>(0,v.WS)(t,n,e,v.MN[o])))}),[r]),l=o.useMemo((()=>{const{quickPromotePlatform:e,screenName:t,statusId:n}=r;return a?a.map((o=>(0,v.WS)(t,n,e,o))):[]}),[r,a]),d=o.useCallback(((e,t)=>{const o=n.location,r=s.some((t=>e.pathname.includes(t))),a=l.some((e=>o.pathname.includes(e)));return!!(i||r||a)||(c({nextLocation:e,action:t,currentLocation:o}),!1)}),[n.location,s,l,i]);o.useEffect((()=>n.block(d)),[d,n]);const u=o.useCallback((()=>{(0,v.hq)(e)(v.Ur.dropOffScreenCancel()),c(null)}),[c,e]),m=o.useCallback((()=>{if((0,v.hq)(e)(v.Ur.dropOffScreenConfirm()),null==i)return;const{action:t,nextLocation:o}=i;switch(t){case"PUSH":n.push(o);break;case"REPLACE":n.replace(o);break;case"POP":n.goBackThroughModals()}}),[i,n,e]);return i?o.createElement(S,{analytics:e,cancelButtonLabel:I,confirmButtonLabel:k,headline:A,onCancel:u,onConfirm:m,subtext:x}):t};var L=n(7896),N=n(36934),M=n(91974),B=n(23507),F=n(50329),R=n(6733);const q=({children:e,description:t,descriptionDir:n,descriptionTestID:a,label:i,withBottomBorder:c=!0,withDisabledText:s=!1,withPaddingHorizontal:l=!1})=>{const d=o.useMemo((()=>[O.descriptionItem,c?O.bottomBorder:void 0,l&&O.paddingHorizontal]),[c,l]),u=o.useMemo((()=>[O.descriptionContainer,s?O.disabled:void 0]),[s]);return o.createElement(r.Z,{style:d},!!i&&o.createElement(N.ZP,{style:s?O.disabled:void 0,weight:"bold"},i),!!t&&o.createElement(r.Z,{style:u},o.createElement(N.ZP,{color:"gray700",dir:n,size:"subtext2",style:O.descriptionContainer,testID:a},t)),e)},O=u.Z.create((e=>({descriptionItem:{backgroundColor:e.colors.cellBackground,paddingVertical:e.componentDimensions.gutterVertical},descriptionContainer:{marginTop:e.spaces.space2},bottomBorder:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor},disabled:{opacity:.5},paddingHorizontal:{paddingHorizontal:e.componentDimensions.gutterHorizontal}})));var H=n(54044);const V=({callout:e,primaryLabel:t,style:n,subtitle:a,title:i})=>o.createElement(H.Z,null,(({windowWidth:c})=>{const s=c<u.Z.theme.breakpoints.small;return o.createElement(r.Z,{style:[s?U.mobileTitleContainer:U.titleContainer,e?U.withCallout:null,n]},o.createElement(N.ZP,{accessibilityLevel:1,accessibilityRole:"heading",align:"left",size:"title4",weight:"heavy"},i),!!t&&o.createElement(r.Z,{style:U.primaryLabelContainer},o.createElement(N.ZP,{align:"left",color:"primary",size:"title4"},t)),!!a&&o.createElement(r.Z,{style:U.subtitleContainer},o.createElement(M.Z,{align:"left",color:"gray700"},a)),!!e&&o.createElement(r.Z,{style:U.calloutContainer},e))})),U=u.Z.create((e=>({titleContainer:{paddingVertical:e.spaces.space24},mobileTitleContainer:{paddingVertical:e.spaces.space40},primaryLabelContainer:{marginTop:e.spaces.space28},subtitleContainer:{marginTop:e.spaces.space12},withCallout:{paddingBottom:e.spaces.space16},calloutContainer:{marginTop:e.spaces.space16,marginHorizontal:e.spaces.space16}})));var z=n(3978),$=n(99436),W=n(27218),j=n(72599);const G=g().e8702feb,K=g().e44dc579,Q=g().hd8df545,Y=g().f1d32e41,X=g().c4d0434b,J=g().dc4a9413,ee=g().bad70c09,te=g().c133a39b,ne=g().ee5da8f5,oe=g().g4bf9cb7,re=g().gc3ce5d9,ae=g().c1778029,ie=g().f1d32e41,ce=g().a4ab12b9,se=g().cb51c854,le=g().bb7b39e2,de=g().eb9466d0,ue=g().c21037d0,me=g().b07cc9f2,pe=g().ce309bee,ge=g().c6c16a52,he=g().cc49d030,ye=g().c3fca124,_e=g().d4f57cce,be=g().c6daa762;function fe(e){switch(e){case"AnyGender":return se;case"Male":return le;case"Female":return de;default:return(0,j.ZP)(`Unknown gender: ${e}`),e}}function we(e){switch(e){case"COUNTRIES":return ue;case"REGIONS":return me;case"METROS":return pe;case"CITIES":return ge;case"POSTAL_CODES":return he;default:return(0,j.ZP)(`Unknown targeting locationType: ${e}`),e}}function Ce({amount:e,currency:t,fractionDigits:n,lang:o}){return e.toLocaleString((0,z.It)(o),{currency:t,style:"currency",maximumFractionDigits:void 0!==n?n:2,minimumFractionDigits:void 0!==n?n:2})}function Ee({couponAmount:e,currency:t,lang:n}){const o=Ce({amount:e,lang:n,currency:t,fractionDigits:0});return G({couponAmount:o})}function ve({numLocations:e}){const t=g().ia24dc8d(e);return ee({numLocations:t})}function Pe({durationDays:e}){const t=g().ia24dc8d(e);return oe({durationDays:t})}function Ze(e){switch(e){case"Engagements":return ye;case"Followers":return _e;case"WebsiteClicks":return be;default:throw w()}}var Te=n(23335),Se=n(92160),Ae=n(14854),xe=n(67935);const Ie=e=>e.quickPromote.budget.dailyBudget,ke=e=>e.quickPromote.budget.durationDays,De=e=>e.quickPromote.budget.errorMessage,Le=e=>e.quickPromote.budget.availableBudgets||(e=>{throw new Error(e)})("No budgets found"),Ne=e=>e.quickPromote.budget.currency||"USD",Me=(e,t)=>{var n,o;const r=(0,Ae.L_)(e);return null==(n=e.ads.typeahead.forecastAudience[r])||null==(o=n.result)?void 0:o.estimatedImpressions},Be=e=>e.quickPromote.coupons,Fe=(0,Se.Z)().propsFromState((()=>({dailyBudget:Ie,durationDays:ke,availableBudgets:Le,lang:xe.VT,currency:Ne,audience:Me,errorMessage:De,coupons:Be}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,Te.createLocalApiErrorHandlerWithContextFactory)("QUICK_PROMOTE_BUDGET_SELECT_SCREEN"),setDailyBudget:Ae.p_,setBudgetDuration:Ae.g_,fetchForecastedAudienceIfNeeded:Ae.qL,setBudgetErrorMessage:Ae.rS}))).withAnalytics({page:"quick_promote"}),Re=g().i3656b52,qe=g().e7eb3684,Oe=g().d9f6e3ce,He=g().d9d6e10e,Ve=g().b3954eca,Ue=g().ce665a60,ze=g().i0c3b95c,$e=Array(30).fill(null).map(((e,t)=>t+1));class We extends o.PureComponent{constructor(...e){super(...e),this._fetchForecastedAudienceIfNeeded=()=>{const{analytics:e,createLocalApiErrorHandler:t,fetchForecastedAudienceIfNeeded:n,match:{params:{statusId:o}}}=this.props;n(o,e).catch(t())},this._getSliderProps=(e,t)=>({max:e.length-1,min:0,value:e.indexOf(t)}),this._handleDurationSlider=e=>{const{analytics:t,durationDays:n,setBudgetDuration:o}=this.props,r=$e[e];n!==r&&((0,v.hq)(t)(v.Ur.setBudgetDuration(`${r}`)),o(r),this._fetchForecastedAudienceIfNeeded())},this._handleBudgetSlider=e=>{const{analytics:t,availableBudgets:n,dailyBudget:o,setDailyBudget:r}=this.props,a=n[e];o!==a&&((0,v.hq)(t)(v.Ur.setDailyBudget(`${a}`)),r(a),this._fetchForecastedAudienceIfNeeded())},this._getCouponCalloutVariables=({coupons:e,currency:t,lang:n})=>{var o,r,a,i,c,s,l,d;const u="ConditionalCouponExperiment"===(null==e?void 0:e.eligible_coupon_experiment)&&(null==e||null==(o=e.eligible_coupon)?void 0:o.credit_amount)&&(null==e||null==(r=e.eligible_coupon)?void 0:r.spend_amount),m=(null==e||null==(a=e.pending_coupon)?void 0:a.credit_amount)&&(null==e?void 0:e.pending_coupon.spend_amount),p=u?"eligibleCoupon":"pendingCoupon",g=function({calloutType:e,couponAmount:t,currency:n,lang:o,spendAmount:r}){const a=Ce({amount:t,lang:o,currency:n,fractionDigits:0}),i=Ce({amount:r,lang:o,currency:n,fractionDigits:0});return"eligibleCoupon"===e?ie({couponAmount:a,spendAmount:i}):ce({couponAmount:a,spendAmount:i})}({calloutType:p,couponAmount:(u&&null!=e&&null!=(i=e.eligible_coupon)&&i.credit_amount?e.eligible_coupon.credit_amount:null==e||null==(c=e.pending_coupon)?void 0:c.credit_amount)||0,spendAmount:(u&&null!=e&&null!=(s=e.eligible_coupon)&&s.spend_amount?null==e||null==(l=e.eligible_coupon)?void 0:l.spend_amount:null==e||null==(d=e.pending_coupon)?void 0:d.spend_amount)||0,currency:t,lang:n});return{showCouponCallout:u||m,couponCalloutHeadline:"eligibleCoupon"===p?ze:void 0,couponCalloutText:g}}}componentDidMount(){const{analytics:e}=this.props;(0,v.hq)(e)(v.Ur.budgetSelectPageLoad()),this._fetchForecastedAudienceIfNeeded()}componentWillUnmount(){const{setBudgetErrorMessage:e}=this.props;e(null)}render(){const{audience:e,availableBudgets:t,coupons:n,currency:a,dailyBudget:i,durationDays:c,errorMessage:s,lang:l}=this.props,d=i.toLocaleString((0,z.It)(l),{currency:a,style:"currency",maximumFractionDigits:0,minimumFractionDigits:0}),u=t[0].toLocaleString((0,z.It)(l),{currency:a,style:"currency",maximumFractionDigits:0,minimumFractionDigits:0}),m=t.slice(-1)[0].toLocaleString((0,z.It)(l),{currency:a,style:"currency",maximumFractionDigits:0,minimumFractionDigits:0}),p=e&&e.low>0&&e.high>0?function({high:e,low:t}){const n=g().cf8abf59(t),o=g().cf8abf59(e);return re({audienceLow:n,audienceHigh:o})}(e):" ",h=Pe({durationDays:c}),y=Pe({durationDays:$e[0]}),_=Pe({durationDays:$e.slice(-1)[0]}),b=this._getSliderProps(t,i),f=this._getSliderProps($e,c),w=function({currency:e,durationDays:t,lang:n,totalBudgetNum:o}){const r=Ce({amount:o,lang:n,currency:e,fractionDigits:0});return J({totalBudget:r,durationLabel:Pe({durationDays:t})})}({totalBudgetNum:i*c,durationDays:c,lang:l,currency:a}),{couponCalloutHeadline:C,couponCalloutText:E,showCouponCallout:P}=this._getCouponCalloutVariables({coupons:n,lang:l,currency:a});return o.createElement(r.Z,{style:je.qpContainer,testID:T.Z.budgetSelectScreen},o.createElement(Z.O,{screenType:v.MN.BudgetSelect}),o.createElement($.ZP,null,s&&o.createElement(r.Z,{style:je.gutterVertical},o.createElement(B.Z,{text:s,type:"danger"})),o.createElement(V,{callout:P&&o.createElement(B.Z,{Icon:R.default,headline:C,text:E}),primaryLabel:w,style:je.titleContainer,subtitle:p,title:Re}),o.createElement(q,{label:qe},o.createElement(r.Z,{style:je.childSpacing},o.createElement(F.Z,(0,L.Z)({accessibilityLabel:Oe,accessibilityLabelValueText:`"${d}"`},b,{maxIcon:o.createElement(N.ZP,{style:je.iconText},m),minIcon:o.createElement(N.ZP,{style:je.iconText},u),onChange:this._handleBudgetSlider,thumbLabel:d})))),o.createElement(q,{label:He},o.createElement(r.Z,{style:je.childSpacing},o.createElement(F.Z,(0,L.Z)({accessibilityLabel:Ve,accessibilityLabelValueText:`"${h}"`},f,{maxIcon:o.createElement(N.ZP,{style:je.iconText},_),minIcon:o.createElement(N.ZP,{style:je.iconText},y),onChange:this._handleDurationSlider,thumbLabel:h})))),o.createElement(r.Z,{style:je.disclaimer},o.createElement(M.Z,{align:"left",color:"gray700",size:"subtext2"},Ue))))}}We.contextType=b.rC;const je=u.Z.create((e=>({qpContainer:{flex:1,overflowY:"auto"},titleContainer:{paddingBottom:e.spaces.space32},disclaimer:{marginVertical:e.componentDimensions.gutterVertical},gutterVertical:{paddingVertical:e.componentDimensions.gutterVertical},childSpacing:{marginTop:e.spaces.space4},iconText:{textAlignVertical:"text-bottom"}}))),Ge=Fe(We);var Ke=n(62854);const Qe=(e,t)=>t.match.params.statusId,Ye=(e,t)=>Ke.ZP.selectHydrated(e,Qe(0,t)),Xe=(e,t)=>(0,E.h1)(Ke.ZP.selectFetchStatus(e,Qe(0,t)),e.quickPromote.budget.availableBudgetsFetchStatus,e.quickPromote.targeting.initialTargetedLocationsFetchStatus,e.quickPromote.account.accountDataFetchStatus,e.quickPromote.couponsFetchStatus),Je=(e,t)=>e.quickPromote.promoteStatus,et=(e,t)=>e.quickPromote.promoteErrorCode,tt=(e,t)=>e.quickPromote.account.campaigns,nt=(0,Se.Z)().propsFromState((()=>({statusId:Qe,fetchStatus:Xe,tweet:Ye,campaigns:tt,promoteFetchStatus:Je,promoteErrorCode:et}))).propsFromActions((e=>({createLocalApiErrorHandler:(0,Te.createLocalApiErrorHandlerWithContextFactory)("QUICK_PROMOTE_SCREEN"),fetchTweetIfNeeded:Ke.ZP.fetchOneIfNeeded,fetchCurrentTargetingLocationIfNeeded:Ae.yW,fetchAvailableBudgetsIfNeeded:Ae.WS,fetchAdsAccountDataIfNeeded:Ae.Ek,fetchQuickPromoteEligibilityIfNeeded:Ae.E6,fetchCouponsIfNeeded:Ae.fN,handleFirstLoad:()=>(e=>{const{analytics:t,history:n,location:o,match:r}=e,{quickPromotePlatform:a,quickPromoteScreenName:i,screenName:c,statusId:s}=r.params,l={pa_signup_complete:o.query.pa_signup_complete||""};return(0,Ae.Jk)(c,s,a,i,n,l,t)})(e),setPromoteFetchStatus:Ae.Ik}))).withAnalytics(v.EP);var ot=n(88990);const rt=(0,Se.Z)().withAnalytics(v.EP),at=g().e1bca506,it=g().e4a4c608,ct=g().a219e218;class st extends o.PureComponent{constructor(...e){super(...e),this._handleGoToAnalytics=()=>{const{history:e,match:t}=this.props,{quickPromotePlatform:n,screenName:o,statusId:r}=t.params;(0,v.YZ)(e)(o,r,n)},this._handleClose=()=>{const{history:e}=this.props;e.goBackThroughModals()}}componentDidMount(){const{analytics:e}=this.props;(0,v.hq)(e)(v.Ur.donePageLoad())}render(){return o.createElement(o.Fragment,null,o.createElement(Z.O,{screenType:v.MN.Done}),o.createElement(ot.Z,{actionLabel:ct,headline:at,isFullHeightOnMobile:!0,onAction:this._handleGoToAnalytics,onClose:this._handleClose,subtext:it,withCloseButton:!1}))}}st.contextType=b.rC;const lt=rt(st);n(14121),n(60523);const dt=e=>!!e.quickPromote.account.selectedFundingInstrument,ut=e=>e.quickPromote.coupons,mt=e=>e.quickPromote.budget.currency||"USD",pt=(0,Se.Z)().propsFromState((()=>({hasFundingInstrument:dt,coupons:ut,lang:xe.VT,currency:mt}))).withAnalytics(v.EP),gt=n.p+"mobile_header_image_sm.1de0deca.png",ht=n.p+"mobile_header_image_xs.a6014e9a.png";var yt=n(35953),_t=n(44329);const bt=n.p+"desktop_header_image.0fe2a91a.png";function ft({style:e}){return o.createElement(r.Z,{style:e},o.createElement(yt.Z,{accessibilityLabel:"",aspectMode:_t.Z.exact(600/406),image:bt}))}function wt({headerImage:e,style:t}){return o.createElement(r.Z,{style:t},o.createElement(yt.Z,{accessibilityLabel:"",aspectMode:_t.Z.COVER,image:e}))}function Ct({style:e}){return o.createElement(H.Z,null,(({windowHeight:t,windowWidth:n})=>n>u.Z.theme.breakpoints.medium?o.createElement(ft,{style:e}):o.createElement(wt,{headerImage:n<=375?ht:gt,style:e})))}const Et=g().dcfb0332,vt=g().db841200,Pt=g().hc67be9e,Zt=g().dcfb0332;class Tt extends o.PureComponent{constructor(...e){super(...e),this._handleGoToNextPage=()=>{const{history:e,match:t}=this.props,{quickPromotePlatform:n,screenName:o,statusId:r}=t.params;e.push((0,v.WS)(o,r,n,v.MN.Objective))},this._handleClose=()=>{const{history:e}=this.props;e.goBackThroughModals()},this._getCouponVariables=({coupons:e,currency:t,lang:n})=>{var o,r,a,i;const c=(null==e||null==(o=e.eligible_coupon)?void 0:o.total_amount)||(null==e||null==(r=e.eligible_coupon)?void 0:r.credit_amount)||0,s=(null==e||null==(a=e.eligible_coupon)?void 0:a.currency_code)||t,l=null==e?void 0:e.experiment_end_date;let d=null;switch(null==e?void 0:e.eligible_coupon_experiment){case"ConditionalCouponExperiment":d=function({coupon:e,lang:t}){const n=Ce({amount:e.credit_amount,lang:t,currency:e.currency_code,fractionDigits:0}),o=Ce({amount:e.spend_amount,lang:t,currency:e.currency_code,fractionDigits:0});return Y({couponAmount:n,spendAmount:o})}({coupon:{type:"ConditionalCoupon",credit_amount:c,spend_amount:(null==e||null==(i=e.eligible_coupon)?void 0:i.spend_amount)||0,currency_code:s},lang:n});break;case"WelcomeCouponExperiment":l&&(d=function({coupon:e,enrolByDate:t,lang:n}){const o=Ce({amount:e.total_amount,lang:n,currency:e.currency_code,fractionDigits:0});return K({couponAmount:o,date:g().ba2e82a1(t)})}({coupon:{type:"StandardCoupon",total_amount:c,currency_code:s},lang:n,enrolByDate:l}));break;case"WinBackCouponExperiment":l&&(d=function({coupon:e,enrolByDate:t,lang:n}){const o=Ce({amount:e.total_amount,lang:n,currency:e.currency_code,fractionDigits:0});return Q({couponAmount:o,date:g().ba2e82a1(t)})}({coupon:{type:"StandardCoupon",total_amount:c,currency_code:s},lang:n,enrolByDate:l}))}return{withCoupons:c>0&&!!d,couponScreenTitle:Ee({couponAmount:c,currency:s,lang:n}),couponScreenSubtitle:d,couponButtonLabel:Zt}}}componentDidMount(){var e,t,n;const{analytics:o,coupons:r,hasFundingInstrument:a,location:i,match:c}=this.props,{screenName:s,statusId:l}=c.params,d=function(e,t,n){if(!e)return"none";{const o=new URL(e,window.location.origin);if(o.pathname===`/${t}`)return"me";if(o.pathname===`/${t}/status/${n}`)return"tweet";if(o.pathname===`/${t}/status/${n}/analytics`)return"analytics";if("/i/flow/convert_to_professional"===o.pathname)return"ptt"}return"other"}(null==(e=i.state)?void 0:e.previousPath,s,l),u="other"===d?null==(t=i.state)?void 0:t.previousPath:void 0,m=((null==r||null==(n=r.eligible_coupon)?void 0:n.total_amount)||0)>0;(0,v.hq)(o)(v.Ur.introPageLoad({hasFundingInstrument:a,entryPoint:d,otherEntryPoint:u,withCoupon:m}))}render(){const{coupons:e,currency:t,lang:n,match:r}=this.props,{quickPromotePlatform:a}=r.params,i=a===v.ZV.Rweb,{couponButtonLabel:c,couponScreenSubtitle:s,couponScreenTitle:l,withCoupons:d}=this._getCouponVariables({coupons:e,currency:t,lang:n}),u=d?l:Et,m=d?s:vt,p=d?c:Pt;return o.createElement(o.Fragment,null,o.createElement(Z.O,{screenType:v.MN.Intro}),o.createElement(ot.Z,{actionLabel:p,graphic:Ct,graphicDisplayMode:"illustrationFullWidth",headline:u,isFullHeightOnMobile:!0,onAction:this._handleGoToNextPage,onClose:this._handleClose,primaryButtonTestID:T.Z.introButton,subtext:m,withCloseButton:i}))}}Tt.contextType=b.rC;const St=pt(Tt);function At(e){(new Image).src=e}function xt(){return o.createElement(H.Z,null,(({windowHeight:e,windowWidth:t})=>(At(t>u.Z.theme.breakpoints.medium?bt:t<=375?ht:gt),null)))}var It=n(78793),kt=n(12660),Dt=n(90465);const Lt=(e,t)=>e.quickPromote.objective,Nt=(e,t)=>Ke.ZP.selectHydrated(e,((e,t)=>t.match.params.statusId)(0,t)),Mt=(0,Se.Z)().propsFromState((()=>({selectedObjective:Lt,tweet:Nt}))).propsFromActions((()=>({setObjective:Ae.mS}))).withAnalytics(v.EP);var Bt=n(73487);const Ft=n.p+"engagements_icon.14baf75a.png";function Rt(){return o.createElement(Bt.Z,{accessibilityLabel:"",source:Ft,style:u.Z.absoluteFill})}const qt=n.p+"followers_icon.80e5851a.png";function Ot(){return o.createElement(Bt.Z,{accessibilityLabel:"",source:qt,style:u.Z.absoluteFill})}const Ht=n.p+"website_clicks_icon.82f641fa.png";function Vt(){return o.createElement(Bt.Z,{accessibilityLabel:"",source:Ht,style:u.Z.absoluteFill})}const Ut=g().fcc839b6,zt=(g().c1a1817c,g().c9a73b7c),$t=g().b0583654,Wt=g().a2d37164,jt=g().h277a2e8,Gt=g().gd429fea,Kt=u.Z.create((e=>({titleContainer:{paddingBottom:e.spaces.space28},qpContainer:{flex:1,overflowY:"auto"}}))),[Qt,Yt,Xt]=[{label:Ze(Dt.CH.Engagements),value:Dt.CH.Engagements,description:zt,illustration:o.createElement(Rt,null),testID:T.Z.getObjective(Dt.CH.Engagements)},{label:Ze(Dt.CH.Followers),value:Dt.CH.Followers,description:$t,illustration:o.createElement(Ot,null),testID:T.Z.getObjective(Dt.CH.Followers)},{label:Ze(Dt.CH.WebsiteClicks),value:Dt.CH.WebsiteClicks,description:Wt,illustration:o.createElement(Vt,null),testID:T.Z.getObjective(Dt.CH.WebsiteClicks)}];const Jt=Mt((e=>{var t,n,a,i,c,s;const{analytics:l,selectedObjective:d,setObjective:u,tweet:p}=e,g=p?m.Z.getOriginalTweet(p):p,h=null!=(null==g||null==(t=g.entities)||null==(n=t.media)?void 0:n.length)&&(null==g||null==(a=g.entities)||null==(i=a.media)?void 0:i.length)>0,y=1===(null==g||null==(c=g.entities)||null==(s=c.urls)?void 0:s.length),_=!!(null!=g&&g.in_reply_to_status_id_str||null!=g&&g.in_reply_to_name||null!=g&&g.in_reply_to_screen_name||null!=g&&g.in_reply_to_user_id_str||null!=g&&g.in_reply_to_user);o.useEffect((()=>{(0,v.hq)(l)(v.Ur.goalSelectionPageLoad())}),[]);const b=o.useMemo((()=>function({selectedObjective:e,tweetContainsLinks:t,tweetHasMedia:n,tweetIsReply:r}){return[Qt,...r?[]:[Yt],{...Xt,disabled:!t,disabledInlineCallout:t?void 0:o.createElement(It.Z.Danger,{headline:Gt,text:jt,withIcon:!0})}]}({tweetHasMedia:h,tweetContainsLinks:y,selectedObjective:d,tweetIsReply:_})),[h,y,d,_]),f=o.useCallback(((e,t)=>{u(t),(0,v.hq)(l)(v.Ur.setPromoteGoal(t))}),[l,u]);return o.createElement(r.Z,{style:Kt.qpContainer,testID:T.Z.objectiveScreen},o.createElement(Z.O,{screenType:v.MN.Objective}),o.createElement($.ZP,null,o.createElement(V,{style:Kt.titleContainer,title:Ut}),o.createElement(kt.Z,{name:"objective-picker",onChange:f,options:b,value:d})))})),en=Jt;function tn(e){(new Image).src=e}function nn(){return tn(Ft),tn(qt),tn(Ht),o.createElement(o.Fragment,null)}var on=n(14983),rn=n.n(on),an=n(88769),cn=n(76275),sn=n(39581),ln=n(10531);const dn=(e,t)=>t.match.params.statusId,un=(e,t)=>Ke.ZP.selectHydrated(e,dn(0,t)),mn=(e,t)=>Ke.ZP.selectFetchStatus(e,dn(0,t)),pn=(e,t)=>e.quickPromote.account.adsAccount,gn=(e,t)=>e.quickPromote.account.selectedFundingInstrument,hn=(0,Se.Z)().propsFromState((()=>({fetchStatus:mn,tweet:un,adsAccount:pn,fundingInstrument:gn,selectedPaymentMethod:Ae.DY}))).propsFromActions((e=>({createLocalApiErrorHandler:(0,Te.createLocalApiErrorHandlerWithContextFactory)("QUICK_PROMOTE_PAYMENT_SCREEN"),fetchTweetIfNeeded:Ke.ZP.fetchOneIfNeeded,scribeAction:sn.n9,savePlatformRedirectBackState:()=>(0,ln.oE)(e.match.params.quickPromotePlatform),fetchAdsAccountDataIfNeeded:ln.Ek}))).withAnalytics(v.EP);class yn extends o.PureComponent{componentDidMount(){const{adsAccount:e,analytics:t,fundingInstrument:n,match:o,savePlatformRedirectBackState:r}=this.props,{quickPromotePlatform:a,statusId:i}=o.params;r();const c=_n(this.props),s=(0,v.lg)(a,e,i,n,c);c&&(0,v.hq)(t)(v.Ur.paymentPageLoadAddingCard()),(0,v.hq)(t)(v.Ur.paymentPageLoad(s.url)),s.isSameHost||window.location.assign(s.url)}render(){const{adsAccount:e,fundingInstrument:t,match:n}=this.props,r=_n(this.props),{quickPromotePlatform:a,statusId:i}=n.params,c=(0,v.lg)(a,e,i,t,r);return c.isSameHost?o.createElement(o.Fragment,null,o.createElement(Z.O,{screenType:v.MN.Payment}),o.createElement(an.Z,{dangerouslyDisableSandbox:!0,onMessage:(s=this.props,l=this.context,e=>{const{analytics:t,tweet:n}=s,o=_n(s);if(e&&"quick_promote"===e.name)if("scribe"===e.type){const o=n&&m.Z.getOriginalTweet(n)||void 0,r=o?[cn.Z.getTweetItem(o)]:[],a=e.scribeData||{},i="string"==typeof a.component?a.component:"quick_promote",c="string"==typeof a.uiEvent?a.uiEvent:"";t.scribe({component:i,action:c,data:{items:r}})}else if("navigation"===e.type){const{createLocalApiErrorHandler:e,fetchAdsAccountDataIfNeeded:n,history:r,match:a}=s,{quickPromotePlatform:i,screenName:c,statusId:d}=a.params;rn()(!!l.viewerUserId,"viewerUserId must be defined"),n(l.viewerUserId,t,!0).catch(e()),r.push(`/${c}/status/${d}/${i}/${o?v.MN.PaymentSelect:v.MN.Review}`)}}),reportError:j.ZP,src:c.url,style:bn.iframe,title:"Payment Form"})):null;var s,l}}function _n(e){const t=function(e,t){const{location:{search:n}}=e;return new URLSearchParams(n).get(t)}(e,"isAddingPayment");return!!t&&"true"===t}yn.contextType=b.rC;const bn=u.Z.create((e=>({iframe:{flexGrow:1,paddingTop:0}}))),fn=hn(yn);var wn=n(44487),Cn=n(19874),En=n(79866),vn=n(11839),Pn=n(25301),Zn=n(44173),Tn=n(73206),Sn=n(45784),An=n(62119),xn=n(24797);const In=e=>e.quickPromote.paymentMethods,kn=(0,Se.Z)().propsFromState((()=>({paymentMethods:In,selectedPaymentMethod:Ae.DY}))).propsFromActions((()=>({setSelectedPaymentMethod:Ae.$L,deletePaymentMethod:Ae.gp}))).withAnalytics(v.EP),Dn=g().de43b660,Ln=g().hb4773a0,Nn=g().aa2a3dd4,Mn=g().b1c5b63c,Bn=g().affb5878,Fn=g().cfd2f35e,Rn=(e,t,n,r)=>e.map((e=>({label:o.createElement(qn,{deletePaymentMethodHandler:n,id:e.id,imgSrcUrl:e.imgSrcUrl,isSelected:t===e.id,lastFourDigits:e.lastFourDigits,status:e.cardStatus}),value:e.id,containerStyle:[Vn.paymentMethodRadioContainer,Vn.bottomBorder,r]}))),qn=e=>{const t=e.deletePaymentMethodHandler?t=>o.createElement(wn.Z,{items:[{Icon:An.default,text:Nn,onClick:()=>{t(),e.deletePaymentMethodHandler&&e.deletePaymentMethodHandler(e.id)},isEmphasized:!0,disabled:e.isSelected}],onCloseRequested:t}):void 0;return o.createElement(r.Z,{style:Vn.paymentMethod},o.createElement(r.Z,{style:[Vn.descriptionItemContainer,e.paymentDescriptionStyle]},e.imgSrcUrl?o.createElement(r.Z,{style:Vn.cardImageContainer},o.createElement(Bt.Z,{source:e.imgSrcUrl,style:Vn.cardImage})):o.createElement(N.ZP,{size:"body"},"Card"),o.createElement(r.Z,{style:Vn.descriptionContainer},o.createElement(N.ZP,{color:"gray700",size:"subtext1"},`${Mn} ${e.lastFourDigits}`)),("Expired"===e.status||"Invalid"===e.status)&&o.createElement(r.Z,{style:Vn.statusBadgeContainer},o.createElement(Pn.ZP,{style:Vn.expiredBadge},o.createElement(N.ZP,{size:"subtext3",style:Vn.expiredBadge,weight:"bold"},e.status)))),e.deletePaymentMethodHandler&&o.createElement(Zn.Z,{renderActionMenu:t}))},On=e=>{const{cancelDeletePaymentMethodHandler:t,confirmDeletePaymentMethodHandler:n}=e;return o.createElement(Tn.Z,{onMaskClick:t,type:"bottom",withMask:!0},o.createElement(r.Z,{style:Vn.deleteCardConfirmContainer},o.createElement(s.ZP,{icon:o.createElement(An.default,null),onPress:n,style:Vn.modalButton,type:"destructiveOutlined"},Bn),o.createElement(s.ZP,{onPress:t,style:Vn.modalButton,type:"primaryOutlined"},Fn)))},Hn=En.Z.generate({backgroundColor:u.Z.theme.colors.transparent,color:u.Z.theme.colors.primary,insetFocusRing:!0}),Vn=u.Z.create((e=>({qpContainer:{flex:1,overflow:"auto"},paymentMethod:{flexDirection:"row",justifyContent:"space-between"},descriptionItemContainer:{backgroundColor:e.colors.cellBackground,paddingVertical:e.spaces.space8,marginStart:e.spaces.space12},statusBadgeContainer:{margin:e.spaces.space2},descriptionContainer:{margin:e.spaces.space2},paymentMethodRadioContainer:{flexDirection:"row-reverse",paddingVertical:e.spaces.space8,marginStart:`-${e.spaces.space24}`},bottomBorder:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor},deleteCardConfirmContainer:{justifyContent:"flex-end",padding:e.spaces.space8},titleContainer:{paddingTop:e.spaces.space32,paddingBottom:e.spaces.space20,paddingStart:e.spaces.space20},addPaymentMethodContainer:{backgroundColor:e.colors.cellBackground},addPaymentMethodInteractiveContainer:{flexDirection:"row",minHeight:e.spaces.space48,paddingVertical:e.spaces.space16},plusIcon:{color:e.colors.primary,marginEnd:e.spaces.space16},expiredBadge:{backgroundColor:e.colors.red50,color:e.colors.red900},cardImageContainer:{height:"20px",flexDirection:"row",width:"32px",margin:e.spaces.space2},cardImage:{resizeMode:"contain",flex:1},modalButton:{margin:e.spaces.space8}}))),Un=kn((e=>{const{analytics:t,deletePaymentMethod:n,history:a,match:{params:{quickPromotePlatform:i,screenName:c,statusId:s}},paymentMethods:l,selectedPaymentMethod:u,setSelectedPaymentMethod:m}=e;(0,Z.d)(v.MN.PaymentSelect);const p=u?u.id:"",[g,h]=o.useState(!1),[y,_]=o.useState(null),b=(e,n)=>{if((0,xn.Z)(l))return;const o=l.find((e=>e.id===n))||null;o&&"Invalid"===o.cardStatus||(h(!0),m(n).catch((e=>{(0,v.hq)(t)(v.Ur.paymentMethodChanged(e))})).finally((()=>{h(!1)})),(0,v.hq)(t)(v.Ur.paymentMethodChanged()))};return o.useEffect((()=>{(0,v.hq)(t)(v.Ur.paymentSelectPageLoad())}),[t]),o.createElement(o.Fragment,null,o.createElement(r.Z,{style:Vn.qpContainer,testID:T.Z.paymentMethodSelect},g?o.createElement(d.Z,{indeterminate:!0}):null,o.createElement($.ZP,null,o.createElement(V,{title:Dn})),(0,$.$_)((e=>o.createElement(Cn.Z,{disabled:g,name:Dn,onChange:b,options:Rn(l,p,(e=>_(e)),e),value:p}))),(0,$.$_)((e=>o.createElement(r.Z,{style:Vn.addPaymentMethodContainer},o.createElement(vn.Z,{disabled:g,interactive:g,interactiveStyles:Hn,onPress:()=>a.push(`${(0,v.WS)(c,s,i,v.MN.Payment)}?isAddingPayment=true`),style:[Vn.addPaymentMethodInteractiveContainer,e]},o.createElement(Sn.default,{style:Vn.plusIcon}),o.createElement(N.ZP,{align:"left",color:"primary"},Ln))))),y&&o.createElement(On,{cancelDeletePaymentMethodHandler:()=>_(null),confirmDeletePaymentMethodHandler:()=>{y&&(_(null),h(!0),n(y).catch((e=>{(0,v.hq)(t)(v.Ur.paymentMethodDeleted(e))})).finally((()=>{h(!1)})),(0,v.hq)(t)(v.Ur.paymentMethodDeleted()))}})))})),zn=Un;var $n=n(15686),Wn=n(10364);const jn=e=>e.quickPromote.objective,Gn=(e,t)=>e.quickPromote.targeting.targetedLocations,Kn=(e,t)=>e.quickPromote.targeting.ageBucket,Qn=(e,t)=>e.quickPromote.targeting.gender,Yn=(e,t)=>e.quickPromote.targeting.keywords,Xn=(e,t)=>e.quickPromote.budget.dailyBudget,Jn=(e,t)=>e.quickPromote.budget.durationDays,eo=e=>e.quickPromote.budget.currency||"USD",to=e=>e.quickPromote.account.selectedFundingInstrument,no=e=>e.quickPromote.account.adsAccount,oo=e=>e.quickPromote.promoteStatus,ro=e=>e.quickPromote.promoteErrorCode,ao=e=>e.quickPromote.coupons,io=e=>e.quickPromote.enrollCouponErrorCode,co=({history:e,match:t})=>n=>{const{quickPromotePlatform:o,screenName:r,statusId:a}=t.params,i=(0,v.WS)(r,a,o,v.MN.Done);return(0,Ae.kb)({history:e,statusId:a,nextPath:i,analytics:n})},so=(0,Se.Z)().propsFromState((()=>({objective:jn,targetedLocations:Gn,ageBucket:Kn,gender:Qn,keywords:Yn,dailyBudget:Xn,durationDays:Jn,lang:xe.VT,country:Ae.QE,currency:eo,fundingInstrument:to,adsAccount:no,promoteStatus:oo,promoteErrorCode:ro,coupons:ao,enrollCouponErrorCode:io,selectedPaymentMethod:Ae.DY}))).propsFromActions((e=>({createLocalApiErrorHandler:(0,Te.createLocalApiErrorHandlerWithContextFactory)("QUICK_PROMOTE_REVIEW_SCREEN"),clearPersistedRedirectBackState:()=>(0,Ae.oE)(),createPromotion:co(e),enrollCoupon:Ae.br}))).withAnalytics(v.EP),lo=g().db443ae2,uo=g().a96f811e,mo=g().b069d89c,po=g().fbd44e96,go=g().e36bce64,ho=g().c602f5b8,yo=g().ia83756c,_o=g().cc217a04,bo=g().c602f5b8,fo=g().g4f2b588,wo=g().i41612da,Co=g().cdae1af0,Eo=g().ed8bb5a0,vo=g().fc640c20,Po=g().be2dc078,Zo=g().iaefd4de,To=g().e5e42640,So=g().da2805d2,Ao=g().ef4602ec,xo=g().a4db098c,Io=g().ef7e3916;class ko extends o.PureComponent{constructor(...e){super(...e),this._getPaymentDescription=(e,t)=>{const{adsAccount:n}=this.props;return n&&n.timezone&&n.country_code?e?Co:t?vo:Eo:t?Zo:Po},this._handlePromote=()=>{const{analytics:e,createPromotion:t}=this.props;(0,v.hq)(e)(v.Ur.promotionClick()),t(e)},this._handleEnrollCoupon=()=>{const{analytics:e,coupons:t,enrollCoupon:n,fundingInstrument:o}=this.props,r=this._getCouponErrorMessage();o&&null!=t&&t.eligible_coupon&&!r&&n(e)},this._getPromoteErrorMessage=()=>{const{promoteErrorCode:e,promoteStatus:t}=this.props;if(!e)return t===E.ZP.LOADED?So:null;switch(e){case"MissingFundingInstrument":case"InvalidPaymentMethod":return Io;case"CampaignCreationFailed":case"PromotionIneligible":return xo;default:return Ao}},this._getCouponErrorMessage=()=>{const{enrollCouponErrorCode:e}=this.props;return e?To:null},this._getCouponVariables=({coupons:e,currency:t,lang:n})=>{var o;const r=null!=e&&e.existing_balance.length?e.existing_balance.find((e=>e.currency_code===t)):null,a=!(null==r||!r.total_amount)&&r.total_amount>0,i=!(null==e||!e.eligible_coupon),c=!(null==e||null==(o=e.pending_coupon)||!o.credit_amount||null==e||!e.pending_coupon.spend_amount),s=c||"ConditionalCouponExperiment"===(null==e?void 0:e.eligible_coupon_experiment)?"conditionalCoupon":a||i?"standardCoupon":void 0,l=this._getCouponErrorMessage();return{existingCouponBalance:r,hasCouponCredit:a,isEligibleForCoupon:i,showCouponTerms:(c||a||i)&&!l,couponType:s,couponErrorMessage:l}},this._getCouponCalloutVariables=({coupons:e,currency:t,lang:n})=>{var o,r,a,i,c,s,l,d;const{enrollCouponErrorCode:u}=this.props,m="ConditionalCouponExperiment"===(null==e?void 0:e.eligible_coupon_experiment)&&(null==e||null==(o=e.eligible_coupon)?void 0:o.credit_amount)&&(null==e||null==(r=e.eligible_coupon)?void 0:r.spend_amount)&&!u,p=(null==e||null==(a=e.pending_coupon)?void 0:a.credit_amount)&&(null==e?void 0:e.pending_coupon.spend_amount),g=function({calloutType:e,couponAmount:t,currency:n,lang:o,spendAmount:r}){const a=Ce({amount:t,lang:o,currency:n,fractionDigits:0}),i=Ce({amount:r,lang:o,currency:n,fractionDigits:0});return ce({couponAmount:a,spendAmount:i})}({calloutType:m?"eligibleCoupon":"pendingCoupon",couponAmount:(m&&null!=e&&null!=(i=e.eligible_coupon)&&i.credit_amount?e.eligible_coupon.credit_amount:null==e||null==(c=e.pending_coupon)?void 0:c.credit_amount)||0,spendAmount:(m&&null!=e&&null!=(s=e.eligible_coupon)&&s.spend_amount?null==e||null==(l=e.eligible_coupon)?void 0:l.spend_amount:null==e||null==(d=e.pending_coupon)?void 0:d.spend_amount)||0,currency:t,lang:n});return{showCouponCallout:m||p,couponCalloutText:g}}}componentDidMount(){const{analytics:e,clearPersistedRedirectBackState:t,fundingInstrument:n}=this.props;t();const o=!!n;(0,v.hq)(e)(v.Ur.reviewPageLoad({hasFundingInstrument:o})),this._handleEnrollCoupon()}render(){var e;const{adsAccount:t,ageBucket:n,country:a,coupons:i,currency:c,dailyBudget:l,durationDays:d,fundingInstrument:u,gender:m,keywords:p,lang:h,match:y,objective:_,promoteStatus:b,selectedPaymentMethod:f,targetedLocations:w}=this.props,C=null==t?void 0:t.needs_vat,E=null==(e=null==t?void 0:t.isCanWriteBilling)||e,P=function({maxAge:e,minAge:t}){return e?te({minAge:t,maxAge:e}):ne({minAge:t})}(Dt.gT[n]),S=Ze(_),A=p.length?function({formattedAge:e,gender:t,keywords:n,locations:o}){const r=o.length;return(({formattedAge:e,gender:t,keywords:n,locations:o,locationsHeading:r,newlinePlaceholder:a})=>`${r}: ${o}${a}Age range: ${e}${a}Gender: ${t}${a}Keywords: ${n}`)({newlinePlaceholder:"\n",locations:(0,W.Z)(o),locationsHeading:ve({numLocations:r}),formattedAge:e,gender:t,keywords:(0,W.Z)(n)})}({locations:w.map((({localized_name:e})=>e)),formattedAge:P,gender:fe(m),keywords:p}):function({formattedAge:e,gender:t,locations:n}){const o=n.length;return ae({newlinePlaceholder:"\n",locations:(0,W.Z)(n),locationsHeading:ve({numLocations:o}),formattedAge:e,gender:t})}({locations:w.map((({localized_name:e})=>e)),formattedAge:P,gender:fe(m)}),{couponErrorMessage:x,couponType:I,existingCouponBalance:k,hasCouponCredit:D,isEligibleForCoupon:L,showCouponTerms:F}=this._getCouponVariables({coupons:i,currency:c,lang:h}),R=function({currency:e,dailyBudgetNum:t,durationDays:n,lang:o}){const r=Ce({amount:t,lang:o,currency:e,fractionDigits:0});return X({dailyBudget:r,durationLabel:Pe({durationDays:n})})}({dailyBudgetNum:l,durationDays:d,lang:h,currency:c}),O=D?"":Ce({amount:l*d,lang:h,currency:c}),{quickPromotePlatform:H,screenName:U,statusId:z}=y.params,j=this._getPromoteErrorMessage(),G=!!u,{couponCalloutText:K,showCouponCallout:Q}=this._getCouponCalloutVariables({coupons:i,currency:c,lang:h});return o.createElement(o.Fragment,null,o.createElement(Z.O,{screenType:v.MN.Review}),o.createElement(r.Z,{style:Do.qpContainer,testID:T.Z.reviewScreen},o.createElement($.ZP,null,j&&o.createElement(r.Z,{style:Do.gutter},o.createElement(B.Z,{text:j,type:"danger"})),x&&o.createElement(r.Z,{style:Do.gutter},o.createElement(B.Z,{text:x,type:"warning"})),o.createElement(V,{title:lo}),o.createElement(q,{description:S,descriptionTestID:T.Z.reviewObjectiveDescription,label:uo,withBottomBorder:!1}),o.createElement(q,{description:A,descriptionTestID:T.Z.reviewTargetingDescription,label:mo,withBottomBorder:!1}),o.createElement($n.Z,null,(({direction:e})=>o.createElement(q,{children:Q&&o.createElement(B.Z,{style:Do.couponCallout,text:K}),description:R,descriptionDir:e,descriptionTestID:T.Z.reviewBudgetAndDurationDescription,label:po,withBottomBorder:!1})))),(0,$.FR)((e=>o.createElement(Wn.Z,{description:E&&"CREDIT_CARD"===(null==u?void 0:u.type)&&f&&!C?o.createElement(qn,{id:f.id,imgSrcUrl:f.imgSrcUrl,lastFourDigits:f.lastFourDigits,paymentDescriptionStyle:Do.paymentDescription,status:f.cardStatus}):u&&!C?u.description:o.createElement(N.ZP,{color:"primary",size:"subtext2"},this._getPaymentDescription(G,L)),label:o.createElement(N.ZP,{weight:"bold"},go),link:E?!u||C?(0,v.WS)(U,z,H,v.MN.Payment):"CREDIT_CARD"===(null==u?void 0:u.type)?(0,v.WS)(U,z,H,v.MN.PaymentSelect):void 0:void 0,paddingHorizontal:e,testID:T.Z.reviewPaymentPivot})))),o.createElement(r.Z,{style:Do.bottomElements},o.createElement($.ZP,null,o.createElement(q,{description:O,descriptionTestID:T.Z.reviewPromotionTotalDescription,label:ho,withBottomBorder:!1},D?function({balance:e,currency:t,lang:n,subtotal:a}){const i=Ce({amount:a,currency:t,lang:n}),c=Ce({amount:Math.min(a,e),currency:t,lang:n}),s=Ce({amount:Math.max(0,a-e),currency:t,lang:n}),l=e>a?Ce({amount:e-a,currency:t,lang:n}):null;return o.createElement(o.Fragment,null,o.createElement(r.Z,{style:Do.promotionTotalRow},o.createElement(N.ZP,{color:"gray700",size:"subtext2"},yo),o.createElement(N.ZP,{color:"gray700",size:"subtext2"},i)),o.createElement(r.Z,{style:Do.promotionTotalRow},o.createElement(N.ZP,{color:"blue500",size:"subtext2"},_o),o.createElement(N.ZP,{color:"blue500",size:"subtext2"},"-",c)),o.createElement(r.Z,{style:Do.promotionTotalRow},o.createElement(N.ZP,{color:"gray700",size:"subtext2",weight:"bold"},bo),o.createElement(N.ZP,{color:"gray700",size:"subtext2",testID:T.Z.reviewPromotionTotalDescription,weight:"bold"},s)),l&&o.createElement(r.Z,{style:Do.promotionTotalRow},o.createElement(N.ZP,{color:"gray700",size:"subtext2"},fo),o.createElement(N.ZP,{color:"gray700",size:"subtext2"},l)))}({subtotal:l*d,balance:(null==k?void 0:k.total_amount)||0,currency:c,lang:h}):null),o.createElement(M.Z,{align:"left",style:Do.terms},function(e,t,n,r){return n?o.createElement(g().I18NFormatMessage,{$i18n:"cace9785"},o.createElement(N.ZP,{link:(0,v.s0)(e)},g().eb44cb19),o.createElement(N.ZP,{link:(0,v.bx)(t,r)},g().fc0d6d0d)):o.createElement(g().I18NFormatMessage,{$i18n:"c99d7101"},o.createElement(N.ZP,{link:(0,v.s0)(e)},g().ca5cd8c7))}(a,h,F,I)),o.createElement(s.ZP,{disabled:!u||C||Ae.LK.includes(b),onPress:this._handlePromote,size:"xLarge",testID:T.Z.reviewButton,type:"primaryFilled"},wo))))}}ko.contextType=b.rC;const Do=u.Z.create((e=>({qpContainer:{flex:1,overflow:"auto"},bottomElements:{marginTop:e.spaces.space12,marginBottom:e.spaces.space20},couponCallout:{marginTop:e.spaces.space12},childContainer:{paddingHorizontal:0},terms:{textAlign:"start",color:e.colors.gray700,fontSize:e.fontSizes.subtext3,paddingBottom:e.spaces.space24},gutter:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},promotionTotalRow:{marginTop:e.spaces.space2,justifyContent:"space-between",flexDirection:"row"},paymentDescription:{flexDirection:"row",marginStart:void 0,marginVertical:void 0,backgroundColor:void 0}}))),Lo=so(ko);var No=n(65597),Mo=n(30318);const Bo=e=>{const{direction:t}=(0,Mo.Z)();return o.createElement(No.Z,(0,L.Z)({},e,{languageWritingDirection:t}))};var Fo=n(24208),Ro=n(32307),qo=n(90867);const Oo=(e,t)=>{var n,o;return null!=(n=null==(o=e.quickPromote.account.adsAccount)?void 0:o.isHousingAndUrbanDevelopmentLimitations)&&n},Ho=(e,t)=>e.quickPromote.targeting.targetedLocations,Vo=(e,t)=>e.quickPromote.targeting.gender,Uo=(e,t)=>e.quickPromote.targeting.ageBucket,zo=(e,t)=>e.quickPromote.targeting.keywords,$o=(e,t)=>e.quickPromote.objective,Wo=(0,Se.Z)().propsFromState((()=>({lang:xe.VT,isHousingAndUrbanDevelopmentLimitations:Oo,targetedLocations:Ho,selectedGender:Vo,selectedAgeBucket:Uo,selectedKeywords:zo,objective:$o}))).propsFromActions((()=>({setTargetedAgeBucket:Ae.l$}))).withAnalytics(v.EP),jo=g().c672105a,Go=g().e1efbeae,Ko=g().c6ff7c10,Qo=g().b555fb46,Yo=g().a8d0108e,Xo=g().j2c03e12,Jo=["13","18","21","25","35","50"],er=[void 0,void 0,void 0,"24","34","49","54"],tr=(0,Fo.Z)((0,qo.Z)(Dt.gT),(e=>e.maxAge||"over")),nr=er.length;function or(e,t){var n;if(e&&t)return null==(n=Dt.E4[e])?void 0:n[t]}class rr extends o.PureComponent{componentDidMount(){const{analytics:e}=this.props;(0,v.hq)(e)(v.Ur.targetingPageLoad())}render(){const{isHousingAndUrbanDevelopmentLimitations:e,lang:t,match:n,objective:a,selectedAgeBucket:i,selectedGender:c,selectedKeywords:s,targetedLocations:l}=this.props,{featureSwitches:d}=this.context,u=d.isTrue("responsive_web_qp_keyword_targeting_enabled")&&a===Dt.CH.WebsiteClicks,{quickPromotePlatform:m,screenName:p,statusId:g}=n.params,h=ve({numLocations:l.length}),{maxAge:y,minAge:_}=Dt.gT[i],b=ar(i),f=y||Xo;return o.createElement(r.Z,{style:sr.qpContainer,testID:T.Z.targetingScreen},o.createElement(Z.O,{screenType:v.MN.Targeting}),o.createElement($.ZP,null,o.createElement(V,{callout:e?o.createElement(cr,{lang:t}):void 0,style:sr.titleContainer,title:jo})),(0,$.FR)((t=>{return o.createElement(r.Z,{style:sr.targetingContainer},o.createElement(Wn.Z,{description:(0,W.Z)(l.map((({localized_name:e})=>e))),label:o.createElement(N.ZP,{weight:"bold"},h),link:(0,v.WS)(p,g,m,v.MN.TargetingLocation),paddingHorizontal:t,testID:T.Z.targetingLocationPivot}),o.createElement($.ZP,null,o.createElement(q,{label:Go,withBottomBorder:!1,withDisabledText:e,withPaddingHorizontal:!1},o.createElement(Bo,{disabled:e,endThumbAccessibilityLabel:Qo,endThumbAccessibilityLabelValueText:`"${f}"`,endThumbLabel:f,max:nr,min:0,onChange:(n=this.props,([e,t],o)=>{const{analytics:r,selectedAgeBucket:a,setTargetedAgeBucket:i}=n,c=ar(a);if(!(0,Ro.Z)(c,[e,t]))if(o){const o=Jo[e];if(!o)return;const a=t===nr?"over":er[t],c=or(o,a);if(c)(0,v.hq)(r)(v.Ur.setTargetingAgeBucket(c)),i(c);else{const e=Object.keys(Dt.E4[o])[0];ir({minAge:o,maxAge:e,props:n})}}else{const o=t===nr?"over":er[t];if(!o)return;const a=Jo[e],c=or(a,o);if(c)(0,v.hq)(r)(v.Ur.setTargetingAgeBucket(c)),i(c);else{const{minAge:e}=tr[o].slice(-1)[0];ir({minAge:e,maxAge:o,props:n})}}}),startThumbAccessibilityLabel:Ko,startThumbAccessibilityLabelValueText:`"${_}"`,startThumbLabel:_,value:b}))),o.createElement(Wn.Z,{description:fe(c),disabled:e,label:o.createElement(N.ZP,{weight:"bold"},Yo),link:(0,v.WS)(p,g,m,v.MN.TargetingGender),paddingHorizontal:t,testID:T.Z.targetingGenderPivot}),u&&o.createElement(Wn.Z,{description:(0,W.Z)(s),label:o.createElement(N.ZP,{weight:"bold"},"Keywords"),link:(0,v.WS)(p,g,m,v.MN.TargetingKeywords),paddingHorizontal:t,testID:T.Z.targetingKeywordsPivot}));var n})))}}function ar(e){const{maxAge:t,minAge:n}=Dt.gT[e];return[Jo.indexOf(n),t?er.indexOf(t):nr]}function ir({maxAge:e,minAge:t,props:n}){const{analytics:o,setTargetedAgeBucket:r}=n,a=Dt.E4[t][e||"over"];if(!a)throw new Error(`Age bucket not found for minAge: "${t}", maxAge: "${e||"<empty>"}"`);(0,v.hq)(o)(v.Ur.setTargetingAgeBucket(a)),r(a)}function cr({lang:e}){const t=(0,v.C0)(e),n=o.useMemo((()=>({termsLink:o.createElement(N.ZP,{link:t})})),[t]);return o.createElement(B.Z,{text:o.createElement(g().I18NFormatMessage,{$i18n:"a063fb4b"},o.cloneElement(n.termsLink,null,g().b1f8ee00))})}rr.contextType=b.rC;const sr=u.Z.create((e=>({qpContainer:{flex:1,overflowY:"visible"},titleContainer:{paddingBottom:e.spaces.space16},targetingContainer:{flexDirection:"column",gap:e.spaces.space16}}))),lr=Wo(rr);var dr=n(18626);const ur=(e,t)=>e.quickPromote.targeting.gender,mr=(e,t)=>e.quickPromote.account.campaigns,pr=(0,Se.Z)().propsFromState((()=>({selectedGender:ur,campaigns:mr}))).propsFromActions((()=>({setTargetedGender:Ae.A_}))).withAnalytics(v.EP),gr=[Dt.Y0.Any,Dt.Y0.Female,Dt.Y0.Male].map((e=>({label:fe(e),value:e,testID:T.Z.getTargetingGender(e)}))),hr=g().df8d4fa0,yr=({children:e,onBack:t})=>{const n=o.useMemo((()=>o.createElement(c.Z,{onClick:t})),[t]);return o.createElement(r.Z,{style:_r.qpContainer,testID:T.Z.targetingGenderScreen},o.createElement(i.Z,{leftControl:n,style:_r.appBar,title:hr}),e)},_r=u.Z.create((e=>({qpContainer:{flex:1},appBar:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,paddingStart:e.spaces.space8},selectionGroupContainer:{paddingTop:e.spaces.space16}}))),br=pr((({analytics:e,selectedGender:t,setTargetedGender:n,...a})=>{const i=o.useCallback((()=>{const{history:e,location:t,match:n}=a,{quickPromotePlatform:o,quickPromoteScreenName:r,screenName:i,statusId:c}=n.params;(0,v.Mi)(e,t)(i,c,o,r)}),[a]),c=o.useCallback(((t,o)=>{n(o),(0,v.hq)(e)(v.Ur.setTargetingGender(o)),i()}),[e,n,i]);return(0,Z.d)(v.MN.TargetingGender),o.createElement(yr,{onBack:i},o.createElement($.ZP,null,o.createElement(r.Z,{style:_r.selectionGroupContainer},o.createElement(dr.Z,{name:"gender",onChange:c,options:gr,value:t}))))})),fr=br;var wr=n(24794),Cr=n(68472),Er=n(22150),vr=n(50384),Pr=n(54170),Zr=n(58955),Tr=n(51461),Sr=n(65188);const Ar=(e,t)=>{if((0,Tr.Z)(e)&&(0,Tr.Z)(t)){if(e>t)return 1;if(e<t)return-1}else if((0,Sr.Z)(e)&&(0,Sr.Z)(t)){if(e>t)return 1;if(e<t)return-1}return 0},xr=(e,t,n)=>{const o=(0,Sr.Z)(n)?Array(t.length).fill(n):n,r=t.map((e=>(0,Sr.Z)(e)?t=>{const n="object"==typeof t?null==t?void 0:t[e]:void 0;return(0,Sr.Z)(n)||(0,Tr.Z)(n)?n:void 0}:e));return e.concat().sort(((e,t)=>(n,o)=>{for(let r=0;r<e.length;r++){const a=e[r],i=t[r]||"asc",c=Ar(a(n),a(o));if(0!==c)return"desc"===i?-1*c:c}return 0})(r,o))},Ir=(e,t)=>{const n=Dr(e,t);return e.ads.typeahead.targetingLocation[n]},kr=(e,t)=>{var n;const o=Dr(e,t);return null==(n=e.ads.typeahead.targetingLocation[o])?void 0:n.fetchStatus},Dr=(e,t)=>e.quickPromote.targeting.locationQuery,Lr=(e,t)=>e.quickPromote.targeting.targetedLocations,Nr=(e,t)=>e.quickPromote.account.campaigns,Mr=(e,t)=>{var n,o;return null!=(n=null==(o=e.quickPromote.account.adsAccount)?void 0:o.isHousingAndUrbanDevelopmentLimitations)&&n},Br=(0,Se.Z)().propsFromState((()=>({targetingLocationQuery:Dr,targetingLocations:Ir,targetedLocations:Lr,fetchStatus:kr,userCountry:xe.GG,campaigns:Nr,isHousingAndUrbanDevelopmentLimitations:Mr}))).propsFromActions((()=>({setTargetedLocations:Ae.hI,setAndFetchTargetingLocationQuery:Ae.sN,setTargetingLocationQuery:Ae.zu,createLocalApiErrorHandler:(0,Te.createLocalApiErrorHandlerWithContextFactory)("QUICK_PROMOTE_TARGETING_LOCATION_SCREEN")}))).withAnalytics(v.EP),Fr=g().cc642518,Rr=g().i0e8c3c6,qr=g().deaf5b16,Or=g().f69ad048,Hr=Object.freeze({COUNTRIES:0,REGIONS:1,METROS:2,CITIES:3,POSTAL_CODES:4}),Vr=Object.freeze({[v.cU.CurrentCountryMatch]:0,[v.cU.Match]:1,[v.cU.NoMatch]:2});class Ur extends o.PureComponent{constructor(...e){super(...e),this.state={errorMessage:null},this._renderSearch=()=>{const{fetchStatus:e,targetingLocationQuery:t}=this.props;return o.createElement(zr,{onBack:this._handleGoBack,onChange:this._handleTargetingLocationChange,onClear:this._handleClear,targetingLocationQuery:t},o.createElement(r.Z,{style:$r.border},o.createElement($.ZP,null,o.createElement(N.ZP,{style:$r.headingText,weight:"heavy"},Rr))),o.createElement(Cr.Z,{fetchStatus:e,render:this._renderSearchList,retryMessage:qr}))},this._handleClear=()=>{const{setTargetingLocationQuery:e}=this.props;e("")},this._renderSearchList=()=>{const{targetedLocations:e}=this.props,t=(0,Zr.Z)(e.map((({targeting_value:e})=>e))),n=this._getTargetingLocationOptions();return o.createElement(r.Z,{style:$r.overflow},o.createElement($.ZP,null,n.map((({localized_name:e,location_type:n,targeting_value:r})=>o.createElement(vr.Z,{checked:t.has(r),helpText:we(n),key:r,label:e,name:r,onChange:this._handleSearchSelect,testID:T.Z.targetingLocationItem,withPaddingHorizontal:!1})))))},this._getTargetingLocationOptions=()=>{var e,t,n;const{isHousingAndUrbanDevelopmentLimitations:o,targetingLocationQuery:r,targetingLocations:a,userCountry:i}=this.props,c=null!=(e=null==a||null==(t=a.result)||null==(n=t[0])?void 0:n.locations)?e:[],s=(0,v.Jy)(i||"US"),l=c.filter((({country_code:e,localized_name:t,location_type:n})=>{if(o&&"POSTAL_CODES"===n)return!1;return s(t,e,r)!==v.cU.NoMatch}));return xr(l,[({country_code:e,localized_name:t})=>{const n=s(t,e,r);return Vr[n]},({localized_name:e,location_type:t})=>{var n;return null!=(n=Hr[t])?n:(e=>{(0,j.ZP)(`Quick Promote: Unknown location type: ${e}. Expected one of {${Object.keys(Hr).join(", ")}}`)})(t)||Object.keys(Hr).length},({localized_name:e})=>e],"asc")},this._handleSearchSelect=(e,t)=>{const{analytics:n,setTargetedLocations:o,setTargetingLocationQuery:r}=this.props;if(t){this.setState({errorMessage:null});const t=this._getTargetingLocationOptions().find((({targeting_value:t})=>t===e));t?((0,v.hq)(n)(v.Ur.setTargetingLocation({id:t.targeting_value,locationType:t.location_type,countryCode:t.country_code})),o([t]),this._handleGoBack()):(0,j.ZP)(`Quick Promote: could not find "${e}" in list of targeting options`)}else(0,v.hq)(n)(v.Ur.targetingLocationInvalid()),this.setState({errorMessage:Or});r("")},this._renderSelected=()=>{const{targetedLocations:e,targetingLocationQuery:t}=this.props,{errorMessage:n}=this.state;return o.createElement(zr,{onBack:this._handleGoBack,onChange:this._handleTargetingLocationChange,onClear:this._handleClear,targetingLocationQuery:t},o.createElement(r.Z,null,n&&o.createElement($.ZP,null,o.createElement(r.Z,{style:$r.gutterVertical},o.createElement(B.Z,{text:n,type:"danger"}))),o.createElement(r.Z,{style:$r.border},o.createElement($.ZP,null,o.createElement(N.ZP,{style:$r.headingText,weight:"heavy"},ve({numLocations:e.length}))))),o.createElement($.ZP,null,e.map((({localized_name:e,location_type:t,targeting_value:n})=>o.createElement(vr.Z,{checked:!0,helpText:we(t),key:n,label:e,name:n,onChange:this._handleSearchSelect,testID:T.Z.targetingLocationItem,withPaddingHorizontal:!1})))))},this._handleGoBack=()=>{const{history:e,location:t,match:n}=this.props,{quickPromotePlatform:o,quickPromoteScreenName:r,screenName:a,statusId:i}=n.params;(0,v.Mi)(e,t)(a,i,o,r)},this._handleTargetingLocationChange=e=>{const t=e.target.value,{analytics:n,createLocalApiErrorHandler:o,setAndFetchTargetingLocationQuery:r}=this.props;(0,v.hq)(n)(v.Ur.targetingLocationSearch(t)),r(t).catch(o())}}componentDidMount(){const{analytics:e}=this.props;(0,v.hq)(e)(v.Ur.targetingLocationPageLoad())}componentWillUnmount(){this._handleClear()}render(){const{targetingLocationQuery:e}=this.props;return o.createElement(o.Fragment,null,o.createElement(Z.O,{screenType:v.MN.TargetingLocation}),e?this._renderSearch():this._renderSelected())}}Ur.contextType=b.rC;const zr=({children:e,onBack:t,onChange:n,onClear:a,targetingLocationQuery:s})=>o.createElement(r.Z,{style:$r.qpContainer,testID:T.Z.targetingLocationScreen},o.createElement(i.Z,{leftControl:o.createElement(c.Z,{onClick:t}),middleControl:o.createElement(H.Z,null,(({windowWidth:e})=>{const t=e<u.Z.theme.breakpoints.small;return o.createElement(r.Z,{style:t?$r.mobileInputContainer:$r.inputContainer},o.createElement(Er.Z,{Icon:Pr.default,autoFocus:!0,name:"locationTargetingInput",onChange:n,onClear:a,placeholder:Fr,style:$r.input,testID:T.Z.targetingLocationSearch,value:s,withClearButton:!0}))}))}),e),$r=u.Z.create((e=>({qpContainer:{flex:1},inputContainer:{paddingStart:e.spaces.space8,paddingEnd:e.spaces.space64},mobileInputContainer:{paddingEnd:e.spaces.space16},input:{marginVertical:e.spaces.space12},border:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderTopWidth:1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor},headingText:{fontSize:e.fontSizes.headline1,paddingVertical:e.componentDimensions.gutterVertical},gutterVertical:{paddingVertical:e.componentDimensions.gutterVertical},overflow:{flexGrow:1,flexShrink:1,flexBasis:"200px",overflowY:"auto"}}))),Wr=Br(Ur),jr=g().a065172e,Gr=g().cfcdb4a2,Kr=g().dcfb0332,Qr=g().c1df579e;class Yr extends o.PureComponent{constructor(...e){super(...e),this.state={isLoaded:!1},this._getRetweetOrTweet=()=>{const{tweet:e}=this.props;return e?m.Z.getOriginalTweet(e):e},this._render=()=>{const{history:e}=this.props,t=this._getRetweetOrTweet();return!t||t&&t.user.id_str!==this.context.viewerUserId?o.createElement(_.Z,{history:e,onBackClick:this._handleGoBack,title:Kr},o.createElement(l.Z,{onRetry:null,title:jr})):this._renderPage()},this._renderHeader=h.Z,this._renderPage=()=>{const{match:e,promoteErrorCode:t,promoteFetchStatus:n}=this.props,{quickPromotePlatform:o,quickPromoteScreenName:r,screenName:a,statusId:i}=e.params,c=e=>(0,v.WS)(a,i,o,e);switch(r){case"intro":case"done":return this._renderSplashPage();case"objective":{const e=c(v.MN.Targeting);return this._renderProgressPage(v.D_.Objective,e)}case"targeting":{const e=c(v.MN.BudgetSelect);return this._renderProgressPage(v.D_.Targeting,e)}case"budget_select":{const e=c(v.MN.Review);return this._renderProgressPage(v.D_.BudgetSelect,e)}case"review":{const e=[E.ZP.LOADING,E.ZP.LOADED].includes(n)&&!t;return this._renderProgressPage(e?v.D_.Finish:v.D_.Review)}case"payment":return this._renderProgressPage(v.D_.Review);case"targeting_location":case"targeting_gender":case"targeting_keywords":return this._renderPopupPage();case"payment_select":return this._renderNavigationPage();default:throw w()}},this._renderProgressPage=(e,t)=>{const{history:n}=this.props;return o.createElement(_.Z,{documentTitle:Kr,history:n,renderHeader:this._renderHeader},o.createElement(i.Z,{leftControl:o.createElement(c.Z,{autofocus:!0,onClick:this._handleGoBack,testID:T.Z.backButton})}),o.createElement(d.Z,{progress:e,style:Xr.progressBar}),o.createElement(r.Z,{style:Xr.noScrollView},this._renderRoutes(),t&&o.createElement($.ZP,null,o.createElement(s.ZP,{link:t,size:"xLarge",style:Xr.nextButton,testID:T.Z.nextButton,type:"primaryFilled"},Qr))))},this._renderNavigationPage=()=>{const{history:e}=this.props;return o.createElement(_.Z,{documentTitle:Kr,history:e,renderHeader:this._renderHeader},o.createElement(i.Z,{leftControl:o.createElement(c.Z,{autofocus:!0,onClick:this._handleGoBack,testID:T.Z.backButton})}),o.createElement(r.Z,{style:Xr.noScrollView},this._renderRoutes()))},this._renderPopupPage=()=>{const{history:e}=this.props;return o.createElement(_.Z,{documentTitle:Kr,history:e,renderHeader:this._renderHeader},this._renderRoutes())},this._renderSplashPage=()=>this._renderRoutes(),this._renderRoutes=()=>{const{match:e}=this.props,{quickPromoteScreenName:t}=e.params;switch(t){case"intro":return o.createElement(a.AW,{component:St});case"objective":return o.createElement(a.AW,{component:en});case"targeting":return o.createElement(a.AW,{component:lr});case"targeting_location":return o.createElement(a.AW,{component:Wr});case"targeting_gender":return o.createElement(a.AW,{component:fr});case"targeting_keywords":return o.createElement(a.AW,{component:wr.Z});case"budget_select":return o.createElement(a.AW,{component:Ge});case"review":return o.createElement(a.AW,{component:Lo});case"payment":return o.createElement(a.AW,{component:fn});case"payment_select":return o.createElement(a.AW,{component:zn});case"done":return o.createElement(a.AW,{component:lt});default:throw w()}},this._handleGoBack=()=>{const{analytics:e,history:t,location:n,match:o}=this.props,{quickPromotePlatform:r,quickPromoteScreenName:a,screenName:i,statusId:c}=o.params;(0,v.hq)(e)(v.Ur.back(a)),(0,v.Mi)(t,n)(i,c,r,a)},this._handleRequestRetry=()=>{const{analytics:e,match:t}=this.props,{quickPromoteScreenName:n}=t.params;(0,v.hq)(e)(v.Ur.reload(n)),window.location.reload()}}componentDidMount(){const{analytics:e,createLocalApiErrorHandler:t,fetchAdsAccountDataIfNeeded:n,fetchAvailableBudgetsIfNeeded:o,fetchCouponsIfNeeded:r,fetchCurrentTargetingLocationIfNeeded:a,fetchQuickPromoteEligibilityIfNeeded:i,fetchTweetIfNeeded:c,match:s,promoteFetchStatus:l,setPromoteFetchStatus:d,statusId:u}=this.props,{quickPromoteScreenName:m}=s.params,p=this.context.viewerUserId;return p?(E.ZP.LOADED===l&&m!==v.MN.Done&&d(E.ZP.NONE),(0,C.zk)("initial-load",Promise.all([c(u),a(),n(p,e),r(e),i({statusId:u})]).then((()=>o())).then((()=>{const{handleFirstLoad:e}=this.props;return e()}))).catch((n=>{t(f.c)(n),(0,v.hq)(e)(v.Ur.pageLoadFail(n.message))})).finally((()=>{this.setState({isLoaded:!0})}))):Promise.resolve()}render(){const{analytics:e,fetchStatus:t,history:n,match:r}=this.props,a=[v.MN.Done];if(!this.context.viewerUserId)return this._render();const i=(0,E.h1)(t,this.state.isLoaded?E.ZP.LOADED:E.ZP.LOADING);if(i===E.ZP.NONE)throw new Error("Quick Promote: should never have none state");return i!==E.ZP.LOADED?o.createElement(_.Z,{documentTitle:Kr,history:n,renderHeader:this._renderHeader},o.createElement(xt,null),o.createElement(nn,null),o.createElement(y.Z,{fetchStatus:i,onRequestRetry:this._handleRequestRetry,render:this._render,retryMessage:Gr})):o.createElement(D,{analytics:e,history:n,qpRouteParams:r.params,screensAllowedToNavigate:a},o.createElement(y.Z,{fetchStatus:i,onRequestRetry:this._handleRequestRetry,render:this._render,retryMessage:Gr}))}}Yr.contextType=b.rC;const Xr=u.Z.create((e=>({progressBar:{backgroundColor:e.colors.gray50},noScrollView:{overflowX:"hidden",flex:1},nextButton:{marginBottom:e.spaces.space20,marginTop:e.spaces.space12}}))),Jr=nt(Yr)},67647:(e,t,n)=>{n.d(t,{Z:()=>o});const o={introButton:"introButton",nextButton:"nextButton",objectiveScreen:"objectiveScreen",targetingScreen:"targetingScreen",getObjective:e=>`objectiveScreenObjective${e}`,targetingLocationScreen:"targetingLocationScreen",targetingGenderScreen:"targetingGenderScreen",targetingKeywordsScreen:"targetingKeywordsScreen",budgetSelectScreen:"budgetSelectScreen",reviewScreen:"reviewScreen",reviewButton:"reviewButton",reviewObjectiveDescription:"reviewObjectiveDescription",reviewTargetingDescription:"reviewTargetingDescription",reviewBudgetAndDurationDescription:"reviewBudgetAndDurationDescription",reviewPaymentPivot:"reviewPaymentPivot",reviewPromotionTotalDescription:"reviewPromotionTotalDescription",targetingLocationPivot:"targetingLocationPivot",targetingGenderPivot:"targetingGenderPivot",targetingKeywordsPivot:"targetingKeywordsPivot",backButton:"backButton",targetingLocationSearch:"targetingLocationSearch",targetingLocationItem:"targetingLocationItem",getTargetingGender:e=>`targetingGenderScreenGender${e}`,targetingKeywordsInput:"targetingKeywordsInput",paymentMethodSelect:"paymentMethodSelect",dropoffScreen:"dropoffScreen"}},40809:(e,t,n)=>{n.d(t,{HD:()=>a,cu:()=>i});n(85940);const o="column-",r=e=>e.index>0,a=e=>!(!e||!e.id)&&e.id.startsWith(o),i=e=>{var t,n;return!r(e)&&(null==(t=e.location.state)||null==(n=t.column)?void 0:n.hideHeader)}},91974:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(2784),r=n(25686),a=n(39466),i=n(36934),c=n(1477),s=n(73186);const l=o.memo((({align:e="center",equiTextTestID:t,...n})=>{const s=o.useRef(null),l=o.useCallback((e=>{s.current=e}),[]);return function(e){o.useEffect((()=>{var t,n;const o=e.current,r=null==(t=e.current)||null==(n=t.parentElement)?void 0:n.parentElement;if(!o||!r)return;let i=0,s=0;function l(){c.Z.unobserveAll(o),function(e){e.style.width="";try{const{height:t}=e.getBoundingClientRect();let n=e.offsetWidth,o=n/2;e.style.width=`${o}px`;const{height:r}=e.getBoundingClientRect();if(r===t)return void(e.style.width="");for(let r=0;r<15;++r){const r=(n+o)/2;e.style.width=`${r}px`;const{height:a}=e.getBoundingClientRect();if(a===t?n=r:o=r,n-o<1)return void(e.style.width=`${Math.ceil(n)+1}px`)}e.style.width=""}catch{e.style.width=""}}(o),u(o,(()=>{window.cancelAnimationFrame(i),i=requestAnimationFrame((()=>{d()}))}))}const d=(0,a.Z)(l,100);return d(),u(r,(()=>{window.cancelAnimationFrame(s),s=requestAnimationFrame((()=>{d()}))})),()=>{c.Z.unobserveAll(o),c.Z.unobserveAll(r),window.cancelAnimationFrame(i),window.cancelAnimationFrame(s),d.cancel()}}),[e])}(s),o.createElement(r.Z,{style:"center"===e?d.centerElement:null,testID:t},o.createElement(r.Z,{ref:l},o.createElement(i.ZP,n)))}));const d=s.Z.create((e=>({centerElement:{alignItems:"center"}})));function u(e,t){let n=!1;c.Z.observe(e,(()=>{if(n)return t();n=!0}))}},37800:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(25686),a=n(73186),i=n(87191);const c=e=>{var t;const{borderColor:n="cellBackground",borderWidth:c="small",style:l,userAvatarSize:d="medium",userAvatarUrls:u,withIncreasedSpacing:m}=e,p=u.length,g="transparent"===n;return o.createElement(r.Z,{style:[s.root,l,{height:null==(t=i.default.getSizeStyle(d))?void 0:t.height}]},u.map(((e,t)=>o.createElement(i.default,{backgroundColor:n,borderColor:n,borderWidth:g?"none":c,key:t,size:d,style:[0!==t&&{marginStart:-1*a.Z.theme.spacesPx[m?"space4":"space12"]},{zIndex:p-t}],uri:e}))))},s=a.Z.create((e=>({root:{flexDirection:"row",flexShrink:0,overflow:"hidden",flexWrap:"wrap",justifyContent:"center"}})))},88769:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(7896),r=(n(6886),n(2784)),a=n(90601),i=n(25686),c=n(70451),s=n(73186);class l extends r.Component{constructor(...e){super(...e),this._ref=r.createRef(),this._handleRef=e=>{this._ref.current=e,this.props.forwardedRef&&("function"==typeof this.props.forwardedRef?this.props.forwardedRef(e):this.props.forwardedRef.current=e)},this._handleMessage=e=>{var t,n;const{onMessage:o,reportError:r}=this.props;if(!o||"string"==typeof e.data&&0===e.data.indexOf("setImmediate$"))return;if(e.origin!==`${window.location.protocol}//${window.location.host}`)return r?r(`Invalid cross-origin postMessage from ${e.origin}`):null;if((null==(t=this._ref)||null==(n=t.current)?void 0:n.contentWindow)!==e.source)return;let a;if(e.stopImmediatePropagation(),"string"==typeof e.data&&"undefined"!==e.data){try{a=JSON.parse(e.data)}catch(t){return void(r&&r(`Invalid postMessage data from ${e.origin}: ${e.data}`))}o(a)}}}componentDidMount(){var e;this.props.onMessage&&(e=this._handleMessage,window.addEventListener("message",e,!1))}componentWillUnmount(){var e;this.props.onMessage&&(e=this._handleMessage,window.removeEventListener("message",e,!1))}render(){const{allowForms:e,dangerouslyDisableSandbox:t,src:n,style:o,title:c}=this.props,{isModal:s}=this.context,l=(0,a.Z)("iframe",{allow:"autoplay; fullscreen; web-share",allowFullScreen:!0,ref:this._handleRef,src:n,style:d.iframe,title:c,...t?null:{sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"+(e?" allow-forms":"")}});return r.createElement(i.Z,{style:s?[d.root,d.modalPadding,o]:[d.root,o]},l)}}l.contextType=c.t,l.propTypes={};const d=s.Z.create((e=>({root:{overflow:"auto",WebkitOverflowScrolling:"touch"},modalPadding:{paddingTop:e.componentDimensions.appBarHeight},iframe:{borderWidth:0,flexGrow:1}}))),u=r.forwardRef(((e,t)=>r.createElement(l,(0,o.Z)({forwardedRef:t},e))))},19874:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(7896),r=n(2784),a=n(24921),i=n(77096);const c=e=>r.createElement(a.Z,(0,o.Z)({},e,{renderSelector:({value:e,...t})=>r.createElement(i.Z,(0,o.Z)({},t,{key:e}))}))},14075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(2784),r=n(90601),a=n(73569);const i=(e={})=>(0,r.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.Z.root,e.style],viewBox:"0 0 24 24",children:o.createElement("g",null,o.createElement("path",{d:"M1.002 4h7.764c1.23 0 2.386.49 3.236 1.32.85-.83 2.006-1.32 3.236-1.32h7.764v16h-8.146c-.839 0-1.488.51-1.959 1.45h-1.789l-.171-.34C10.598 20.43 9.906 20 9.148 20H1.002V4zm10 3.26C10.53 6.48 9.685 6 8.766 6H3.002v12h6.146c.658 0 1.292.16 1.854.46V7.26zm2 11.21c.527-.29 1.143-.47 1.854-.47h6.146V6h-5.764c-.918 0-1.764.48-2.236 1.26v11.21zM19 11h-4V9h4v2zm0 4h-4v-2h4v2z"}))});i.metadata={width:24,height:24};const c=i},6733:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(2784),r=n(90601),a=n(73569);const i=(e={})=>(0,r.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.Z.root,e.style],viewBox:"0 0 24 24",children:o.createElement("g",null,o.createElement("path",{d:"M23 3v14h-2V5H5V3h18zM1 7h18v14H1V7zm13.5 2c0 1.38 1.12 2.5 2.5 2.5V9h-2.5zm0 10H17v-2.5c-1.38 0-2.5 1.12-2.5 2.5zM8 14c0 1.66.9 3 2 3s2-1.34 2-3-.9-3-2-3-2 1.34-2 3zm-5-2.5c1.38 0 2.5-1.12 2.5-2.5H3v2.5zM3 19h2.5c0-1.38-1.12-2.5-2.5-2.5V19z"}))});i.metadata={width:24,height:24};const c=i},62119:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(2784),r=n(90601),a=n(73569);const i=(e={})=>(0,r.Z)("svg",{...e,accessibilityRole:e.accessibilityLabel?e.accessibilityRole||"img":void 0,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.Z.root,e.style],viewBox:"0 0 24 24",children:o.createElement("g",null,o.createElement("path",{d:"M16 6V4.5C16 3.12 14.88 2 13.5 2h-3C9.11 2 8 3.12 8 4.5V6H3v2h1.06l.81 11.21C4.98 20.78 6.28 22 7.86 22h8.27c1.58 0 2.88-1.22 3-2.79L19.93 8H21V6h-5zm-6-1.5c0-.28.22-.5.5-.5h3c.27 0 .5.22.5.5V6h-4V4.5zM11 17H9v-6h2v6zm4 0h-2v-6h2v6z"}))});i.metadata={width:24,height:24};const c=i}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Conversation.b14dd10a.js.map